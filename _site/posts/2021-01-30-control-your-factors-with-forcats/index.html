<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Sciencificity's Blog: Feel like the cat that got the cream with {forcats}</title>

<meta property="description" itemprop="description" content="Do mi do mi do so mi do,&#10;&#10;Every truly cultured tidyverse stud-ent knows,&#10;&#10;You must learn your forcats and your d-plyr.&#10;&#10;  -- Adapted from &#39;Scales and Arpeggios&#39; from the Aristocats"/>

<link rel="canonical" href="https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-01-31"/>
<meta property="article:created" itemprop="dateCreated" content="2021-01-31"/>
<meta name="article:author" content="Vebash Naidoo"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Sciencificity&#39;s Blog: Feel like the cat that got the cream with {forcats}"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Do mi do mi do so mi do,&#10;&#10;Every truly cultured tidyverse stud-ent knows,&#10;&#10;You must learn your forcats and your d-plyr.&#10;&#10;  -- Adapted from &#39;Scales and Arpeggios&#39; from the Aristocats"/>
<meta property="og:url" content="https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/"/>
<meta property="og:image" content="https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/preview.jpg"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Sciencificity&#39;s Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Sciencificity&#39;s Blog: Feel like the cat that got the cream with {forcats}"/>
<meta property="twitter:description" content="Do mi do mi do so mi do,&#10;&#10;Every truly cultured tidyverse stud-ent knows,&#10;&#10;You must learn your forcats and your d-plyr.&#10;&#10;  -- Adapted from &#39;Scales and Arpeggios&#39; from the Aristocats"/>
<meta property="twitter:url" content="https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/"/>
<meta property="twitter:image" content="https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/preview.jpg"/>
<meta property="twitter:site" content="@sciencificity"/>
<meta property="twitter:creator" content="@sciencificity"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Sciencificity&#39;s Blog: Feel like the cat that got the cream with {forcats}"/>
<meta name="citation_fulltext_html_url" content="https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/"/>
<meta name="citation_online_date" content="2021/01/31"/>
<meta name="citation_publication_date" content="2021/01/31"/>
<meta name="citation_author" content="Vebash Naidoo"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","base_url","output","categories","preview","draft","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Feel like the cat that got the cream with {forcats}"]},{"type":"character","attributes":{},"value":["Do mi do mi do so mi do,\n\nEvery truly cultured tidyverse stud-ent knows,\n\nYou must learn your forcats and your d-plyr.\n\n  -- Adapted from 'Scales and Arpeggios' from the Aristocats"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Vebash Naidoo"]},{"type":"character","attributes":{},"value":["https://twitter.com/Sciencificity"]}]}]},{"type":"character","attributes":{},"value":["2021-01-31"]},{"type":"character","attributes":{},"value":["https://sciencificity-blog.netlify.app/"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained","code_folding"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"character","attributes":{},"value":["Categorical Variables","Factors","forcats"]},{"type":"character","attributes":{},"value":["preview.jpg"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/"]},{"type":"character","attributes":{},"value":["https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["1.jpg","control-your-factors-with-forcats_files/anchor-4.2.2/anchor.min.js","control-your-factors-with-forcats_files/bowser-1.9.3/bowser.min.js","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/css/crosstalk.css","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.js","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.js.map","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.min.js","control-your-factors-with-forcats_files/crosstalk-1.1.0.1/js/crosstalk.min.js.map","control-your-factors-with-forcats_files/crosstalk-1.1.1/css/crosstalk.css","control-your-factors-with-forcats_files/crosstalk-1.1.1/js/crosstalk.js","control-your-factors-with-forcats_files/crosstalk-1.1.1/js/crosstalk.js.map","control-your-factors-with-forcats_files/crosstalk-1.1.1/js/crosstalk.min.js","control-your-factors-with-forcats_files/crosstalk-1.1.1/js/crosstalk.min.js.map","control-your-factors-with-forcats_files/datatables-binding-0.16/datatables.js","control-your-factors-with-forcats_files/datatables-css-0.0.0/datatables-crosstalk.css","control-your-factors-with-forcats_files/distill-2.2.21/template.v2.js","control-your-factors-with-forcats_files/dt-core-1.10.20/css/jquery.dataTables.extra.css","control-your-factors-with-forcats_files/dt-core-1.10.20/css/jquery.dataTables.min.css","control-your-factors-with-forcats_files/dt-core-1.10.20/js/jquery.dataTables.min.js","control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-28-1.png","control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-29-1.png","control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-30-1.png","control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-31-1.png","control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-32-1.png","control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-33-1.png","control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-34-1.png","control-your-factors-with-forcats_files/header-attrs-2.11/header-attrs.js","control-your-factors-with-forcats_files/header-attrs-2.6.6/header-attrs.js","control-your-factors-with-forcats_files/htmlwidgets-1.5.1/htmlwidgets.js","control-your-factors-with-forcats_files/htmlwidgets-1.5.4/htmlwidgets.js","control-your-factors-with-forcats_files/jquery-1.11.3/jquery.min.js","control-your-factors-with-forcats_files/jquery-1.12.4/jquery.min.js","control-your-factors-with-forcats_files/jquery-1.12.4/LICENSE.txt","control-your-factors-with-forcats_files/jquery-3.6.0/jquery-3.6.0.js","control-your-factors-with-forcats_files/jquery-3.6.0/jquery-3.6.0.min.js","control-your-factors-with-forcats_files/jquery-3.6.0/jquery-3.6.0.min.map","control-your-factors-with-forcats_files/nouislider-7.0.10/jquery.nouislider.min.css","control-your-factors-with-forcats_files/nouislider-7.0.10/jquery.nouislider.min.js","control-your-factors-with-forcats_files/popper-2.6.0/popper.min.js","control-your-factors-with-forcats_files/selectize-0.12.0/selectize.bootstrap3.css","control-your-factors-with-forcats_files/selectize-0.12.0/selectize.min.js","control-your-factors-with-forcats_files/tippy-6.2.7/tippy-bundle.umd.min.js","control-your-factors-with-forcats_files/tippy-6.2.7/tippy-light-border.css","control-your-factors-with-forcats_files/tippy-6.2.7/tippy.css","control-your-factors-with-forcats_files/tippy-6.2.7/tippy.umd.min.js","control-your-factors-with-forcats_files/webcomponents-2.0.0/webcomponents.js","preview.jpg","ramiz-dedakovic-jerh2Nj1XWY-unsplash.jpg"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        return "<p>" + $('#ref-' + ref).html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css?family=DM+Mono&display=swap');

@import url('https://fonts.googleapis.com/css?family=Caladea:300,400,500,900&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,400;0,600;1,400&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Rosario:ital,wght@0,400;0,600;1,400&display=swap');

@import url('https://fonts.googleapis.com/css2?family=Neue+Helvetica&display=swap');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.25rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #ff5c61;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    'Caladea', serif;
  --mono-font:       'DM Mono', monospace;
  --body-font:       'Jost', sans-serif;
  --navbar-font:     'Neue Helvetica', sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.8rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       1.0rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-nav a {
  
  font-family: 'Neue Helvetica', sans-serif;
  font-weight: 500;
  font-size: 15px;
  color: #a9caea !important;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: #ff6700;
}

.distill-site-nav a:current {
  background-color: #ff5c61;
  color: white !important;
}

      
.nav-dropdown-content a {
  font-family: 'Neue Helvetica', sans-serif;
  font-weight: 500;
  color: #847c77;
}

.distill-site-header {
  font-family: 'Neue Helvetica', sans-serif;
  font-weight: 500;
  background-color: #ede7e3;
}


@media print {
  .distill-site-nav {
    display: none;
  }
}



/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

/

/**
 * Remove default margin.
 */
body {
  background-color: #f7f5f2;
  margin: 0; }

.link,
a {
  color: #187BA2;
  text-decoration: none;
  -webkit-transition: color, 200ms;
  -moz-transition: color, 200ms;
  transition: color, 200ms; }
  .link:visited,
  a:visited {
    color: #187BA2; }
  .link.light,
  a.light {
    color: #a9caea; }
    .link.light:visited,
    a.light:visited {
      color: #77abc9; }
    .link.light:hover,
    a.light:hover {
      color: #eeeff4; }
    .link.light:active,
    a.light:active {
      color: #77abc9; }
  .link.link-white,
  a.link-white {
    color: white; }
    .link.link-white:visited,
    .link.link-white:hover,
    .link.link-white:active,
    a.link-white:visited,
    a.link-white:hover,
    a.link-white:active {
      color: white; }
  .link:hover,
  a:hover {
    color: #4e4a47;
    text-decoration: underline; }
  .link:active,
  a:active {
    color: #187BA2; }

/* Links
   ========================================================================== */
/**
 * Remove the gray background color from active links in IE 10.
 */
a {
  background-color: transparent; }

/**
 * Improve readability of focused elements when they are also in an
 * active/hover state.
 */
a:active,
a:hover {
  outline: 0; }</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.11/header-attrs.js"></script>
  <script src="../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
  <link href="../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
  <script src="../../site_libs/datatables-binding-0.19/datatables.js"></script>
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="../../site_libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
  <link href="../../site_libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
  <script src="../../site_libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
  <link href="../../site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
  <script src="../../site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
  <link href="../../site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
  <script src="../../site_libs/selectize-0.12.0/selectize.min.js"></script>
  <link href="../../site_libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
  <script src="../../site_libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    if (!/posts/.test(location.pathname)) {
      return;
    }

    var script = document.createElement("script");
    script.src = "https://utteranc.es/client.js";
    script.setAttribute("repo", "sciencificity/Blog_Vebash");
    script.setAttribute("issue-term", "title");
    script.setAttribute("crossorigin", "anonymous");
    script.setAttribute("label", "comments ðŸ’¬");
    script.setAttribute("theme", "github-light");

    /* wait for article to load, append script to article element */
    var observer = new MutationObserver(function (mutations, observer) {
      var article = document.querySelector("d-article");
      if (article) {
        observer.disconnect();
        /* HACK: article scroll */
        article.setAttribute("style", "overflow-y: hidden");
        article.appendChild(script);
      }
    });

    observer.observe(document.body, { childList: true });
  });
</script>

<!-- <script src="https://utteranc.es/client.js" -->
<!--         repo="sciencificity/Blog_Vebash" -->
<!--         issue-term="title" -->
<!--         label="comments ðŸ’¬" -->
<!--         theme="github-light" -->
<!--         crossorigin="anonymous" -->
<!--         async> -->
<!-- </script> -->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Feel like the cat that got the cream with {forcats}","description":"Do mi do mi do so mi do,\n\nEvery truly cultured tidyverse stud-ent knows,\n\nYou must learn your forcats and your d-plyr.\n\n  -- Adapted from 'Scales and Arpeggios' from the Aristocats","authors":[{"author":"Vebash Naidoo","authorURL":"https://twitter.com/Sciencificity","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-01-31T00:00:00.000+02:00","citationText":"Naidoo, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Sciencificity's Blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<a href="../../about.html">About</a>
<a href="../../code-snippets.html">Code Snippets</a>
<a href="https://twitter.com/Sciencificity">
<i class="fa fa-twitter" aria-hidden="true"></i>
</a>
<a href="https://github.com/Sciencificity">
<i class="fa fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Feel like the cat that got the cream with {forcats}</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:Categorical_Variables" class="dt-tag">Categorical Variables</a>
  <a href="../../index.html#category:Factors" class="dt-tag">Factors</a>
  <a href="../../index.html#category:forcats" class="dt-tag">forcats</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Do mi do mi do so mi do,</p>
<p>Every truly cultured tidyverse stud-ent knows,</p>
<p>You must learn your forcats and your d-plyr.</p>
<p>– Adapted from ‘Scales and Arpeggios’ from the Aristocats</p></p>
</div>

<div class="d-byline">
  Vebash Naidoo <a href="https://twitter.com/Sciencificity" class="uri">https://twitter.com/Sciencificity</a> 
  
<br/>2021-01-31
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#terminology">Terminology</a>
<ul>
<li><a href="#numerical-quantitative-data">Numerical (Quantitative) data</a></li>
<li><a href="#non-numerical-qualitative-data">Non-Numerical (Qualitative) data</a></li>
</ul></li>
<li><a href="#forcats">{forcats} 📦</a>
<ul>
<li><a href="#data">Data</a></li>
<li><a href="#convert-variable-to-factor">Convert variable to factor</a>
<ul>
<li><a href="#brewing_materials">brewing_materials</a></li>
<li><a href="#factor-as.factor">factor() / as.factor()</a></li>
<li><a href="#forcatsas_factor">forcats::as_factor()</a></li>
<li><a href="#fct_inorder">fct_inorder()</a></li>
</ul></li>
<li><a href="#manually-order-levels">Manually order levels</a>
<ul>
<li><a href="#fct_relevel">fct_relevel()</a></li>
</ul></li>
<li><a href="#collapse-multiple-levels">Collapse multiple levels</a>
<ul>
<li><a href="#brewer_size">brewer_size</a></li>
<li><a href="#fct_collapse">fct_collapse()</a></li>
</ul></li>
<li><a href="#reduce-categories">Reduce categories</a>
<ul>
<li><a href="#beer_awards">beer_awards</a></li>
<li><a href="#fct_other">fct_other()</a></li>
<li><a href="#fct_lump">fct_lump()</a></li>
</ul></li>
<li><a href="#re-labeling-levels">Re-labeling levels</a>
<ul>
<li><a href="#brewing_materialstype">brewing_materials$type</a></li>
<li><a href="#fct_recode">fct_recode()</a></li>
</ul></li>
<li><a href="#reorder-levels">Reorder levels</a>
<ul>
<li><a href="#fct_infreq-and-fct_rev">fct_infreq() and fct_rev()</a></li>
<li><a href="#fct_reorder">fct_reorder()</a></li>
</ul></li>
<li><a href="#code">Code</a></li>
<li><a href="#session-info">Session Info</a></li>
</ul></li>
<li><a href="#further-resources">Further Resources</a></li>
</ul>
</nav>
</div>
<!-- Picture on main page -->
<!-- <span>Photo by <a href="https://unsplash.com/@v2osk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">v2osk</a> on <a href="https://unsplash.com/s/photos/categories?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span> -->
<div class="layout-chunk" data-layout="l-body">
<style type="text/css">
blockquote {
  background: #f9f9f9;
  border-left: 10px solid #ccc;
  margin: 1.5em 10px;
  padding: 0.5em 10px;
  quotes: "\201C""\201D""\2018""\2019";
}
blockquote:before {
  color: #ccc;
  content: open-quote;
  font-size: 4em;
  line-height: 0.1em;
  margin-right: 0.25em;
  vertical-align: -0.4em;
}
blockquote p {
  display: inline;
}
</style>
</div>
<figure class="quote">
<blockquote>
No need to be a scared-y cat, “A lot of good tricks. I will show them to you. Your mother will not mind at all if I do.”
</blockquote>
<figcaption>
— The Cat In The Hat
</figcaption>
</figure>
<p><img src = 1.jpg  width = 600px></p>
<p><span>Photo by <a href="https://unsplash.com/@miklevasilyev?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">MIKHAIL VASILYEV</a> on <a href="https://unsplash.com/s/photos/cat?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a></span></p>
<h1 id="terminology">Terminology</h1>
<p>To set the stage, let’s talk about the types of data. These are concepts more for beginners, so if you’re familiar with these please feel free to skip ahead.</p>
<p>We have two types of data:</p>
<ul>
<li>Numerical data, also known as <code>Quantitative</code> data.</li>
<li>Non-Numerical data, also known as <code>Qualitative</code> data (this is what we will be concentrating on in this post).</li>
</ul>
<h3 id="numerical-quantitative-data">Numerical (Quantitative) data</h3>
<ul>
<li><p>Takes on number values:</p>
<ul>
<li><p>Discrete: These are for example, count values: 0, 1, 2 - how many people took the survey, how many cats do you have in your home, how many children (aged below 18) are there in a household?</p></li>
<li><p>Continuous: These are numbers that can take on infinite values within some range of values - percentage of survey filled by respondents (e.g. 21.562%, 67.893%, 90.145%), heights of siberian cats (30.167 cm, 31.458 cm, 28.624 cm).</p></li>
</ul></li>
<li><p>It makes sense to take the average of numerical data, and to do other arithmetic on numerical data, such as to add, subtract etc.</p></li>
<li><p>For example, it’s easy to say, in our sample the tallest siberian cat is 1.291 centimetres taller than the shortest siberian cat.</p></li>
</ul>
<h3 id="non-numerical-qualitative-data">Non-Numerical (Qualitative) data</h3>
<ul>
<li><p>Also known as <strong>categorical data</strong>, since it can take on some number of distinct categories e.g. eye colour (brown, blue, green, grey etc.), favourite rock band, even names if you think about it, fall under categorical data, albeit many distinct categories may be present in such a <code>name</code> variable, and we therefore typically treat those kinds of non-numerical fields as pure character data.</p></li>
<li><p>The categories are limited, and distinct - Siberian cat, Cornish Rex, Russian Blue - and may therefore be <em>represented</em> as numbers. In R each distinct category is referred to as a <span style="color: #5196b4;background-color:#f4e4e7">level</span>.</p>
<ul>
<li>For example, you may have a survey question with the following categories:</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Category</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Very Likely</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">Likely</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Uncertain</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">Unlikely</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Very Unlikely</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
<p>There are 5 levels.</p>
<ul>
<li>Or, you may have a question asking a participant which of your favourite songs they enjoy the most, with the following categories:</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Category</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Sweet Child O’ Mine</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">Smells Like Teen Spirit</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Hotel California</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">Best of You</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Numb</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">Unfamiliar with all of these</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
<p>There are 6 levels.</p></li>
<li><p>The numbers (<code>Level Number</code>) are basically placeholders for each category level, and is meant for us to work with it easier in a programming language. If I get the responses:<br></p></li>
</ul>
<pre>

      Numb, Smells Like Teen Spirit, Sweet Child O' Mine, Smells Like Teen Spirit, Numb,
      Smells Like Teen Spirit, Sweet Child O' Mine, Numb, Smells Like Teen Spirit, Numb,
      Sweet Child O' Mine, Sweet Child O' Mine, Smells Like Teen Spirit
      
      I.e. 5, 2, 1, 2, 5, 2, 1, 5, 2, 5, 1, 1, 2
      
</pre>
<p>I can’t say <i>Numb</i> is 4x better, or 4x worse than <em>Sweet Child O’ Mine</em> (in other words, it makes no sense to take Level Number of Numb [5], and subtract Level Number of Sweet Child ’O Mine [1]).</p>
<p>Neither can I say that <em>Hotel California</em> is the average category chosen (notice it was not chosen once) but if I take the average of the numerical placeholders for the responses received, I would get 2.62 which is 3 if I round up. In other words, we can’t understand what the “average” song is.</p>
<ul>
<li><p>So we have seen that it does not make sense to do arithmetic on these variables. The distance between the categories is not something that can be measured.</p></li>
<li><p>We <strong>can</strong> count each category, and understand that <em>Smells Like Teen Spirit</em> was the most popular among respondents.</p></li>
<li><p>Categorical data may be:</p>
<ul>
<li>Unordered, often refered to merely as Categorical data, or also known as <span style="color: #5196b4;background-color:#f4e4e7"><code>Nominal</code></span> data. For example, if your question is “<code>What's your favourite Altoids flavour?</code>” with the following options, while you may rank <em>Cinnamon</em> above <em>Wintergreen</em> there is no order to these categories! 😁.</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Fave Flavour</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Peppermint</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">Wintergreen</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Cinnamon</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">Spearmint</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Liqourice</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">None of these</td>
<td style="text-align: right;">6</td>
</tr>
</tbody>
</table>
<ul>
<li>Ordered, and hence called <span style="color: #5196b4;background-color:#f4e4e7"><code>Ordinal</code></span> data. Here’s an example using age categories - these are not numerical data, because the <code>Level Number</code> is merely a placeholder for the category, and we can’t do arithmetic on these. This is an <code>Ordinal</code> variable however, since there is some order to the distinct categories shown in <code>Age Range</code>.</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: right;">Age Range</th>
<th style="text-align: right;">Level Number</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">Younger than 21</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">21-30</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">31-45</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">46-55</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">Older than 55</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table></li>
</ul>
<h1 id="forcats">{forcats} 📦</h1>
<p>The <span style="color: #5196b4;background-color:#f4e4e7">forcats</span> 📦 is meant to handle <code>factors</code> which is R’s data type for categorical data. <code>forcats</code> is <strong>for</strong> <b>cat</b>egorical data, and is an <a href="https://r4ds.had.co.nz/factors.html">anagram</a> for <code>factors</code> 🆒.</p>
<p>The functions in the package start with <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_</code></span>.</p>
<p>There is non-numeric data where it is useful to work with the data as factors (age-ranges, occupation, etc.), but we must also keep in mind that some non-numeric data should be kept as <code>character</code> data.</p>
<p>We’re going to work with non-numeric data that may be treated as factors in this post, and learn how to use the forcats 📦 to make that task easier for us.</p>
<h2 id="data">Data</h2>
<p>We’re going to use the data from the awesome <a href="https://github.com/rfordatascience/tidytuesday">TidyTuesday Project</a> ✨:</p>
<ul>
<li><a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-03-31">Beer production data from 2020-03-31</a></li>
<li><a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2020/2020-10-20">Beer awards data from 2020-10-20</a>.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>
<span class='va'>brewing_materials</span> <span class='op'>&lt;-</span>
   <span class='fu'>read_csv</span><span class='op'>(</span>
    <span class='co'># hacky solution to show readers the full path of file</span>
    <span class='co'># str_glue just pastes the various strings next to each other</span>
    <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>,
            <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
            <span class='st'>'brewing_materials.csv'</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>beer_taxed</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>, 
              <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
              <span class='st'>'beer_taxed.csv'</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>brewer_size</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>,
     <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
     <span class='st'>'brewer_size.csv'</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>beer_states</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>, 
     <span class='st'>'tidytuesday/master/data/2020/2020-03-31/'</span>,
     <span class='st'>'beer_states.csv'</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>beer_awards</span> <span class='op'>&lt;-</span> 
    <span class='fu'>read_csv</span><span class='op'>(</span>
     <span class='fu'>str_glue</span><span class='op'>(</span><span class='st'>'https://raw.githubusercontent.com/rfordatascience/'</span>, 
     <span class='st'>'tidytuesday/master/data/2020/2020-10-20/'</span>,
     <span class='st'>'beer_awards.csv'</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Let’s have a look at the data - here we’re showing a sample from each table.</p>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Brewing Materials'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-392818efd0033bf06e1f" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-392818efd0033bf06e1f">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2008\" data-max=\"2017\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"12\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"10660\" data-max=\"589653617\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"17491\" data-max=\"559691709\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"654640\" data-max=\"6294629544\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"572537\" data-max=\"6567052630\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Brewing Materials<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used","Pounds of Materials Used"],["Grain Products","Non-Grain Products","Non-Grain Products","Grain Products","Grain Products","Non-Grain Products","Non-Grain Products","Grain Products","Grain Products","Grain Products","Non-Grain Products","Total Used","Non-Grain Products","Total Used","Grain Products","Non-Grain Products","Non-Grain Products","Total Used","Non-Grain Products","Non-Grain Products","Grain Products","Non-Grain Products","Non-Grain Products","Non-Grain Products","Grain Products","Total Non-Grain products","Total Used","Total Used","Non-Grain Products","Grain Products","Grain Products","Total Non-Grain products","Total Grain products","Non-Grain Products","Total Used","Non-Grain Products","Grain Products","Total Used","Non-Grain Products","Non-Grain Products","Total Used","Grain Products","Non-Grain Products","Grain Products","Grain Products","Grain Products","Grain Products","Grain Products","Non-Grain Products","Non-Grain Products"],[2016,2014,2010,2012,2016,2013,2008,2014,2015,2015,2014,2016,2011,2013,2016,2015,2015,2014,2010,2010,2011,2014,2010,2012,2015,2017,2012,2011,2013,2012,2011,2013,2010,2009,2014,2015,2008,2016,2014,2011,2009,2008,2012,2016,2017,2008,2010,2017,2009,2013],[6,9,5,9,4,7,5,1,10,4,2,8,9,11,9,1,5,9,11,9,6,6,10,9,9,8,4,2,11,10,1,10,5,3,10,5,10,2,12,10,11,9,2,12,10,6,4,4,10,8],["Rice and rice products","Hops (dry)","Hops (used as extracts)","Barley and barley products","Wheat and wheat products","Other","Other","Malt and malt products","Wheat and wheat products","Corn and corn products","Other","Total Used","Other","Total Used","Rice and rice products","Sugar and syrups","Sugar and syrups","Total Used","Sugar and syrups","Hops (dry)","Corn and corn products","Hops (dry)","Hops (used as extracts)","Sugar and syrups","Corn and corn products","Total Non-Grain products","Total Used","Total Used","Other","Malt and malt products","Rice and rice products","Total Non-Grain products","Total Grain products","Other","Total Used","Hops (dry)","Malt and malt products","Total Used","Hops (used as extracts)","Other","Total Used","Rice and rice products","Hops (used as extracts)","Corn and corn products","Malt and malt products","Corn and corn products","Wheat and wheat products","Corn and corn products","Hops (used as extracts)","Other"],[648601,4289504,396737,16834020,51605,13505472,1804156,315728713,1568734,50651219,11645142,11930797,10334415,442925803,759649,71798065,81171257,572287634,59184495,6437916,49399750,2894437,293914,65251144,41626738,217425,589653617,499890818,11793486,321542825,108112318,79817394,538640684,6604657,539444288,2188410,353803777,13802739,42981,9544745,471233122,61739894,361152,16200,8675502,65645480,2247616,10660,302264,13373297],[3689917,2539867,450264,34557083,620546,10561030,1131684,327069448,29782810,213290064,9280218,121678710,9180751,497774963,6014092,71798065,392472907,517256336,44926666,5216389,60811086,12674247,302264,61369571,469941459,4201367,559691709,481549087,9686138,313742612,59701345,90292512,526467792,2381920,512525241,11770282,345268980,29507927,312845,8888902,484817741,65977889,275916,151501,91680339,45077699,1569606,17491,337194,10627949],[null,23443946,1713656,95632721,null,85399277,8060369,315728713,null,null,22615352,null,90288463,6116144124,null,null,null,5065447338,719362563,67378784,332332032,14757533,3751314,704250177,null,null,2261876783,1083948472,134153180,3510158822,108112318,1007715366,2414874688,8974660,5608262163,null,3856411787,null,3653284,99833208,6294629544,641591109,654640,null,null,369024726,8186594,null,3566970,98772814],[null,76772419,1892210,99689758,null,70042991,6471795,327069448,null,null,19954110,null,98989156,6316931434,null,null,null,5138138053,692382199,51892616,356953198,61421591,3566970,598179633,null,null,2251007535,996278471,111986298,3427666793,59701345,976279955,2519964657,4983344,5650762843,null,3834198094,null,3902444,107878058,6567052630,684163022,572537,null,null,262301556,5780327,null,5418406,80670940]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>data_type<\/th>\n      <th>material_type<\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>type<\/th>\n      <th>month_current<\/th>\n      <th>month_prior_year<\/th>\n      <th>ytd_current<\/th>\n      <th>ytd_prior_year<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[3,4,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_taxed</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,    
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Beer Taxed'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-706d4a0201e1fa68ddcd" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-706d4a0201e1fa68ddcd">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"5\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"18269043\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"18465892\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"84810051\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"0\" data-max=\"83798440\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"disabled\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Beer Taxed<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced","Barrels Produced"],["Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free","Tax Free","Tax Free","Sub Total Tax-Free","Totals","Totals","Totals","Taxable","Taxable","Taxable","Sub Total Taxable","Tax Free"],[2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008,2008],[1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5],["Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export","For vessels and aircraft","Consumed on brewery premises","Sub Total Tax-Free","Total Removals","Stocks On Hand end-of-month:","Production","In bottles and cans","In barrels and kegs","Tax Determined, Premises Use","Sub Total Taxable","For export"],[16211480,13222104,1371239,7426,14600769,262985,0,708,263693,14864462,10230147,15690494,13051864,1250974,7558,14310396,286593,0,671,287264,14597660,10497860,17367476,13901582,1449849,88816,15440247,309529,3,7417,316949,15757196,11192957,17254160,14361125,1457124,8561,15826810,361949,0,821,362770,16189580,11250055,18269043,15421462,1489290,8720,16919472,356217],[15880125,12824278,1357372,8419,14190069,268473,0,885,269358,14459427,10614074,15284087,12209114,1197553,8090,13414757,266301,0,732,267033,13681790,11277649,17388588,14386284,1514744,88291,15989319,306542,0,8624,315166,16304485,11406260,16777943,13720960,1323587,8230,15052777,325058,0,922,325980,15378757,11705240,18465892,15480560,1538454,8786,17027800,372808],[16211480,13222104,1371239,7426,14600769,262985,0,708,263693,14864462,10230147,31909489,26279336,2622225,15035,28916596,550005,0,1379,551384,29467980,20745169,49277784,40182359,4072222,103886,44358467,859534,3,8796,868333,45226800,31929810,66535007,54544594,5531773,113354,60189721,1221483,3,9605,1231091,61420812,43182802,84810051,69966780,7023496,123576,77113852,1577700],[15880125,12824278,1357372,8419,14190069,268473,0,885,269358,14459427,10614074,31164212,25033392,2554925,16509,27604826,534774,0,1617,536391,28141217,21891723,48552848,39419676,4069669,104834,43594179,841316,0,10241,851557,44445736,33298974,65331867,53140372,5394086,113569,58648027,1166374,0,11163,1177537,59825564,45004356,83798440,68620932,6932676,122701,75676309,1539182],["$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel","$7/$18 per barrel"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>data_type<\/th>\n      <th>tax_status<\/th>\n      <th>year<\/th>\n      <th>month<\/th>\n      <th>type<\/th>\n      <th>month_current<\/th>\n      <th>month_prior_year<\/th>\n      <th>ytd_current<\/th>\n      <th>ytd_prior_year<\/th>\n      <th>tax_rate<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[3,4,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Brewer Size'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-f597435e0abb84e03d65" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f597435e0abb84e03d65">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2009\" data-max=\"2019\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"4\" data-max=\"5964\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"3.7\" data-max=\"189839913.65\" data-scale=\"10\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"14711.36\" data-max=\"175041925.03\" data-scale=\"10\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"12\" data-max=\"6908958\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Brewer Size<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],[2013,2012,2011,2009,2014,2018,2011,2018,2017,2015,2009,2009,2017,2018,2017,2016,2015,2018,2011,2014,2016,2009,2019,2009,2016,2014,2017,2010,2017,2013,2014,2009,2016,2010,2019,2013,2010,2011,2015,2013,2018,2009,2017,2016,2016,2015,2019,2018,2015,2017],["1 to 1,000 Barrels","60,001 to 100,000 Barrels","2,000,000 to 6,000,000 Barrels","100,001 to 500,000 Barrels","6,000,001 Barrels and Over","6,000,001 Barrels and Over","7,501 to 15,000 Barrels","1,000,001 to 1,999,999 Barrels","Total","500,001 to 1,000,000 Barrels","500,001 to 1,000,000 Barrels","1,000,001 to 6,000,000 Barrels","6,000,001 Barrels and Over","Total","15,001 to 30,000 Barrels","1,001 to 7,500 Barrels","30,001 to 60,000 Barrels","15,001 to 30,000 Barrels","6,000,001 Barrels and Over","7,501 to 15,000 Barrels","1 to 1,000 Barrels","Under 1 Barrel","1,001 to 7,500 Barrels","60,001 to 100,000 Barrels","Total","1,000,001 to 1,999,999 Barrels","100,001 to 500,000 Barrels","1 to 1,000 Barrels","1 to 1,000 Barrels","6,000,001 Barrels and Over","30,001 to 60,000 Barrels","1,001 to 7,500 Barrels","1,000,001 to 1,999,999 Barrels","1,001 to 7,500 Barrels","60,001 to 100,000 Barrels","15,001 to 30,000 Barrels","30,001 to 60,000 Barrels","1,000,001 to 1,999,999 Barrels","1,001 to 7,500 Barrels","1,001 to 7,500 Barrels","7,501 to 15,000 Barrels","1 to 1,000 Barrels","1,000,001 to 1,999,999 Barrels","60,001 to 100,000 Barrels","15,001 to 30,000 Barrels","60,001 to 100,000 Barrels","1 to 1,000 Barrels","100,001 to 500,000 Barrels","100,001 to 500,000 Barrels","2,000,000 to 6,000,000 Barrels"],[1923,20,5,27,15,15,63,5,5648,7,7,4,15,5964,99,935,56,102,16,102,3283,195,1183,19,5096,5,40,1178,3646,17,62,357,4,428,33,51,38,9,851,645,155,1037,4,38,75,24,4577,42,49,5],[602141.422999999,1468172.46,17703591,5422155.72,138677888.13,131336734.02,662095.46,6076447.34,185581837.2,5050717.11,4831385.68,9970404.28,135615117.47,182790960.32,2062332.14,2461722.99,2453623.13,2124238.48,138963353.84,1042199.42,993337.920000003,3.7,3151130.255,1501976.56,189839913.65,6055336.28,8792844.25,426003.383,1073977.86,153023498.63,2639561.553,859934.81,4999263.95,1059505.163,2575065.63,1087970.73,1544051.1,13524548.35,2242859.09,1693579.726,1618340.38,400401.17,4868564.08,3052311.48,1577515.39,1887855.83,1321901.272,8777286.22,10645528.1,17288133.2],[528020.279,1250720.93,16695626.31,4469288.93,127713535.8,124471154.47,577424.67,6110085.42,170760628.18,4821272.06,4535659.48,9592722.75,124049346.77,175041925.03,2239986.46,2282897.14,2185447.02,1871360.04,128108304.25,916679.905,864097.200000001,14711.36,2901015.17,1224618.44,172957178.11,5863392.69,6811548.01,393941.57,1003361.14,141659034.45,2301357.795,769155.15,4994536.9,962969.633,2225453.43,921515.394,1256492.475,12843570.78,1978577.42,1479648.996,1406728.12,371872.85,4897090.56,2395062.26,1341223.91,1583089.18,1293960.317,7630983.19,8697815.57,16092810.95],[922,97318,84271,128000,4331255,5749122,270,3062,6814178,16414,21563,14548,5331930,6908958,38491,13608,29356,15417,3578089,22024,889,119,7509,95732,6490978,43468,235283,1279,790,4385750,40785,12,47250,2227,67048,18103,42409,363998,6661,6369,3983,123,4110,48970,37302,23158,2296,170814,336057,1015504]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>year<\/th>\n      <th>brewer_size<\/th>\n      <th>n_of_brewers<\/th>\n      <th>total_barrels<\/th>\n      <th>taxable_removals<\/th>\n      <th>total_shipped<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_states</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Beer States'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-956bafc188569495b611" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-956bafc188569495b611">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"2008\" data-max=\"2019\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"7.16\" data-max=\"162972112.66\" data-scale=\"12\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Beer States<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["WV","WI","MA","FL","HI","TX","MD","KY","HI","LA","IA","UT","IN","NV","SD","total","AK","OH","VA","CO","MI","AL","NJ","WV","FL","MD","MO","IN","MD","WV","IL","AZ","WY","WY","VA","AZ","IA","MA","MS","WY","CT","MI","ME","NC","CO","FL","CA","MD","MN","NV"],[2017,2013,2017,2014,2018,2008,2017,2012,2013,2019,2008,2017,2014,2015,2008,2010,2016,2017,2009,2014,2012,2019,2014,2010,2011,2008,2009,2013,2019,2017,2015,2015,2014,2009,2019,2009,2014,2010,2018,2012,2016,2013,2019,2017,2016,2014,2016,2011,2009,2008],[8218.02,9038409.69,85176.38,6585.28,34458.29,1094276.99,69714.09,4949.54,13208.44,55422.57,2113.46,54184.15,48204.65,5161.63,572,162972112.66,69473.78,79394.13,1186492.73,72839.26,185386.44,47160.08,447843.58,7.16,6761.68,47959.13,13429771.56,13119.35,72769.66,3564.32,46217.44,44032.85,2447.42,2518.9,12829543.99,18303.18,8090.96,72352.47,10462.16,5752.17,10705.61,28431.97,46942.61,880391.57,1898362.52,1242022.65,201066.01,74120.55,221315.48,15454.08],["On Premises","Bottles and Cans","On Premises","On Premises","Bottles and Cans","Kegs and Barrels","Kegs and Barrels","On Premises","Bottles and Cans","On Premises","Kegs and Barrels","Kegs and Barrels","Bottles and Cans","Kegs and Barrels","Kegs and Barrels","Bottles and Cans","Kegs and Barrels","On Premises","Kegs and Barrels","On Premises","Kegs and Barrels","On Premises","Kegs and Barrels","On Premises","On Premises","Bottles and Cans","Bottles and Cans","On Premises","Kegs and Barrels","Kegs and Barrels","On Premises","Bottles and Cans","Bottles and Cans","On Premises","Bottles and Cans","Kegs and Barrels","Bottles and Cans","Bottles and Cans","On Premises","Kegs and Barrels","On Premises","On Premises","On Premises","Bottles and Cans","Kegs and Barrels","Kegs and Barrels","On Premises","Bottles and Cans","Bottles and Cans","On Premises"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>state<\/th>\n      <th>year<\/th>\n      <th>barrels<\/th>\n      <th>type<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[2,3]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>sample_n</span><span class='op'>(</span><span class='fl'>50</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span>filter <span class='op'>=</span> <span class='st'>'top'</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>scrollX <span class='op'>=</span> <span class='cn'>TRUE</span>,
                     pageLength <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,
    caption <span class='op'>=</span> <span class='fu'>htmltools</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>tags</a></span><span class='op'>$</span><span class='fu'>caption</span><span class='op'>(</span>
      style <span class='op'>=</span> <span class='st'>'caption-side: bottom; text-align: center;'</span>,
     <span class='st'>'Table Name: '</span>, <span class='fu'>htmltools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>em</a></span><span class='op'>(</span><span class='st'>'Beer Awards'</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<div id="htmlwidget-1976d038ea97ef8919d9" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-1976d038ea97ef8919d9">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"number\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1990\" data-max=\"2020\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","caption":"<caption style=\"caption-side: bottom; text-align: center;\">\n  Table Name: \n  <em>Beer Awards<\/em>\n<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50"],["Bronze","Gold","Silver","Silver","Silver","Bronze","Silver","Bronze","Gold","Silver","Gold","Gold","Silver","Gold","Bronze","Bronze","Silver","Silver","Bronze","Bronze","Silver","Silver","Bronze","Bronze","Bronze","Bronze","Silver","Gold","Silver","Bronze","Silver","Gold","Bronze","Gold","Gold","Gold","Silver","Gold","Bronze","Silver","Silver","Bronze","Gold","Gold","Gold","Bronze","Silver","Silver","Silver","Silver"],["Genuine Oatmeal Porter","Augenblick Light Lager","Lucknow Munich-Style Lager","Celtic Stout","El Toro Coco Chocolate Stout","Release the Hounds Barley Wine","Glasscock Helles","Veles Baltic Porter","Royal Oak Red","Super Friends IPA","Chicago Overcoat","Coco Burrito Porter","Yep, Still Boneheads","Black Jack Porter","George's Phunk","Breakside IPA","Hilltopper's Pride Kentucky Common Ale","Seeds of Infinity","Sunken Road","Cinder Beast","Killer Kowalski","Backside Stout","Sawtooth Ale","Oldenberg Premium Verum","Man Full of Trouble","Dominion Octoberfest","Chocolate Stout","Peck's Pilsener","MadeWest Standard","Tears of My Enemies","Alpine Pearl Pale","Ernest's Silky Smoove","Vintage Blonde Ale","Amburana Dream","Chasing Tail Ale","Coors Extra Gold","Survivor Stout","Conelick'r","Freak of Nature Double IPA","Sweetwater Exodus Porter","Winter Warlock Oatmeal Stout","Ragtop Red","Squatters Wit","Grandpa Tractor","Kellerbier","Amber Alt","Kung Fu Smurf","Wipeout IPA","Olly","Dragonstooth Stout"],["Carolina Brewery","Masthead Brewing Co.","Castle Springs Brewing Co.","Fitzpatrick's","El Toro Brewing Co.","Bull &amp; Bush Brewery","Glasscock Brewing Co.","FireHouse Grill &amp; Brewery","Royal Oak Brewery (The)","Ithaca Beer Co.","Midnight Pig Beer","Shoe Tree Brewing Co.","SandLot (The)","Left Hand/Tabernash Brewing","Nodding Head Brewing Co.","Breakside Brewery &amp; Taproom","Ironworks Brewery &amp; Pub","Coldfire Brewing","Spencer Devon Brewing","Sunriver Brewing","Flossmoor Station Brewing Co.","Steamworks Brewing Co.","Left Hand Brewing Co.","Oldenberg Brewery/Drawbridge","Dock Street Brewery","Old Dominion Brewing Co.","H.C. Berger Brewing","Great Dane Pub &amp; Brewing Co. (The)","MadeWest Brewing Co.","Monday Night Brewing","Redwood Coast Brewing Co.","Pizza Port - San Clemente","Blue Moon Brewing Co.","Denver Beer Co. - Olde Town Arvada","Squatters Pub Brewery","Coors Brewing Co.","San Andreas Brewing Co.","Three Creeks Brewing Co.","Wicked Weed Brewing","Sweetwater Brewing Co.","Bristol Brewing Co.","Rock Bottom Breweries","Utah Brewers Cooperative","Barley Forge Brewing","Herkimer Pub and Brewery","Pacific Coast Brewing Co.","Bastone Brewery","Port Brewing Co. Pizza Port Carlsbad","Free Will Brewing Co.","Elysian Brewing Co."],["Pittsboro","Cleveland","Moultonborough","Iowa City","Morgan Hill","Denver","Edinburg","Sunnyvale","Royal Oak","Ithaca","Plainfield","Carson City","Denver","Longmont","Philadelphia","Milwaukie","Lakewood","Eugene","Fredericksburg","Sunriver","Flossmoor","Durango","Longmont","Fort Mitchell","Philadelphia","Ashburn","Fort Collins","Madison","Ventura","Atlanta","Santa Cruz","San Clemente","Golden","Arvada","Salt Lake City","Golden","Hollister","Sisters","Asheville","Atlanta","Colorado Springs","La Jolla","Salt Lake City","Costa Mesa","Minneapolis","Oakland","Royal Oak","Carlsbad","Perkasie","Seattle"],["NC","OH","NH","IA","CA","CO","TX","CA","MI","NY","IL","NV","CO","CO","PA","OR","CO","OR","VA","OR","IL","CO","CO","KY","PA","VA","CO","WI","CA","GA","CA","CA","CO","CO","UT","CO","CA","OR","NC","GA","CO","CA","UT","CA","MN","CA","MI","CA","PA","WA"],["Robust Porter","Munich-Style Helles","Munchner-Style Helles","Classic Irish-Style Dry Stout","Chocolate Beer","Barley Wine-Style Ale","Munchener Helles","Baltic-Style Porter","Scottish-Style Ale","American-Style Brett Ale","Barley Wine-Style Ale","Specialty Beer","International-Style Pilsener","Robust Porter","Wood- and Barrel-Aged Sour Beer","American-Style India Pale Ale","Historical Beer","Specialty Saison","Belgian-Style Blonde Ale or Pale Ale","Imperial Red Ale","Baltic-Style Porter","Oatmeal Stout","Ordinary or Special Bitter","American Premium Lagers","Brown Porter","Marzen / Oktoberfeset","Sweet Stout","Bohemian Style Pilsener","Golden or Blonde Ale","Chocolate Beer","Blonde Ale","Oatmeal Stout","Fruit Wheat Beer","Wood- and Barrel-Aged Beer","English-Style Summer Ale","American Premium Lagers","Classic Irish-Style Dry Stout","Fresh Hop Beer","Imperial India Pale Ale","Brown Porter","Foreign Style Stout","American-Style Amber/Red Ale","Session Beer","Dortmunder or German-Style Oktoberfest","Cellar or Unfiltered Beer","Alts","Belgian-Style Dubbel or Quadrupel","American-Style India Pale Ale","Belgian-Style Lambic or Sour Ale","Other Strong Ale or Lager"],[2013,2020,2001,2001,2015,2013,1998,2009,2005,2011,2018,2020,2008,1995,2012,2017,2017,2020,2016,2018,2008,2016,2012,1991,2017,1996,2001,1997,2019,2017,1992,2009,2011,2019,2003,1990,1997,2020,2020,2003,1998,2000,2010,2018,2006,1990,2018,2004,2019,2006]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>medal<\/th>\n      <th>beer_name<\/th>\n      <th>brewery<\/th>\n      <th>city<\/th>\n      <th>state<\/th>\n      <th>category<\/th>\n      <th>year<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":7},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
<h2 id="convert-variable-to-factor">Convert variable to factor</h2>
<p>To convert a variable to a factor we use <span style="color: #5196b4;background-color:#f4e4e7"><code>factor()</code></span> / <span style="color: #5196b4;background-color:#f4e4e7"><code>as.factor()</code></span> or <span style="color: #5196b4;background-color:#f4e4e7"><code>forcats::as_factor()</code></span>. These functions converts each distinct category to some number placeholder in the background.</p>
<p>Let’s get a better feel for the non-numeric data in the datasets we will be considering here.</p>
<h3 id="brewing_materials">brewing_materials</h3>
<p>Let’s have a look at the <code>material_type</code> and <code>type</code> fields in the <span style="color: #5196b4;background-color:#f4e4e7">brewing_materials</span> dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 5 x 2
  material_type                n
  &lt;chr&gt;                    &lt;int&gt;
1 Grain Products             600
2 Non-Grain Products         480
3 Total Grain products       120
4 Total Non-Grain products   120
5 Total Used                 120</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>type</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 12 x 2
   type                           n
   &lt;chr&gt;                      &lt;int&gt;
 1 Barley and barley products   120
 2 Corn and corn products       120
 3 Hops (dry)                   120
 4 Hops (used as extracts)      120
 5 Malt and malt products       120
 6 Other                        120
 7 Rice and rice products       120
 8 Sugar and syrups             120
 9 Total Grain products         120
10 Total Non-Grain products     120
11 Total Used                   120
12 Wheat and wheat products     120</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='fu'>stringr</span><span class='fu'>::</span><span class='fu'><a href='https://stringr.tidyverse.org/reference/case.html'>str_to_lower</a></span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%in%</span> 
           <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'grain products'</span>,
             <span class='st'>'non-grain products'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span>, <span class='va'>type</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 9 x 3
  material_type      type                           n
  &lt;chr&gt;              &lt;chr&gt;                      &lt;int&gt;
1 Grain Products     Barley and barley products   120
2 Grain Products     Corn and corn products       120
3 Grain Products     Malt and malt products       120
4 Grain Products     Rice and rice products       120
5 Grain Products     Wheat and wheat products     120
6 Non-Grain Products Hops (dry)                   120
7 Non-Grain Products Hops (used as extracts)      120
8 Non-Grain Products Other                        120
9 Non-Grain Products Sugar and syrups             120</code></pre>
</div>
<h3 id="factor-as.factor">factor() / as.factor()</h3>
<ol type="1">
<li><p>These are conversion functions to convert a variable to a factor in Base R.</p></li>
<li><p>To convert a variable to a factor we may use:</p>
<ol type="a">
<li><code>df &lt;- df %&gt;% mutate(var = factor(var))</code></li>
<li><code>df &lt;- df %&gt;% mutate(var = as.factor(var))</code></li>
</ol></li>
<li><p>To figure out what number placeholder a category was given behind the scenes, use <span style="color: #5196b4;background-color:#f4e4e7"><code>levels()</code></span>.</p></li>
<li><p>The default order of <code>factor()</code> is sorted. According to the help page: “The levels of a factor are by default sorted, but the sort order may well depend on the locale at the time of creation, and should not be assumed to be <a href="https://theasciicode.com.ar/">ASCII</a>.”</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='co'># use dplyr::pull which acts like $ to get the variable</span>
   <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='co'># let us get the number placeholder attached to each category</span>
   <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Non-Grain Products&quot;      
[3] &quot;Total Grain products&quot;     &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='co'># can also use count() to count how many in each level</span>
   <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code># A tibble: 5 x 2
  material_type                n
  &lt;fct&gt;                    &lt;int&gt;
1 Grain Products             600
2 Non-Grain Products         480
3 Total Grain products       120
4 Total Non-Grain products   120
5 Total Used                 120</code></pre>
</div>
<p>Notice that the base R functions <code>factor()</code> / <code>as.factor()</code> created <code>levels</code> in the alphabetical sorted order (my locale is ASCII). The output of the first part of the code block shows that <code>"Grain Products"</code> was coded as <strong>1</strong>, while <code>"Total Non-Grain products"</code> was coded as <strong>4</strong>, and <code>"Total Used"</code> was coded as the last level which was <strong>5</strong>.</p></li>
<li><p>What if I wanted to <strong>specify the levels</strong> myself? I could specify the <strong>levels</strong> in an argument as shown: <span style="color: #5196b4;background-color:#f4e4e7"><code>levels = c("Level1", ..., "LevelN")</code></span>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                 <span class='co'># I want to make a factor but I want the order to be</span>
                 <span class='co'># as follows:</span>
                 levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                            <span class='st'>"Total Grain products"</span>,
                            <span class='st'>"Non-Grain Products"</span>,
                            <span class='st'>"Total Non-Grain products"</span>,
                            <span class='st'>"Total Used"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
</div>
<p>My level specification is used to create the levels, so the numeric encoding follows my specification this time. <code>"Total Grain products"</code> is coded as level <strong>2</strong> this time (it was level 3 in the default creation where no <code>levels</code> argument was specified).</p></li>
<li><p>What if I wanted to include levels that may exist in future datasets, but don’t as yet in the dataset we have? This is similar to the <code>months</code> example in <a href="https://r4ds.had.co.nz/factors.html">R for Data Science</a>. Let’s try it with adding a <em>Not Applicable</em> level, which is not in our dataset’s <code>material_type</code> variable.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                                      <span class='st'>"Total Grain products"</span>,
                                      <span class='st'>"Non-Grain Products"</span>,
                                      <span class='st'>"Total Non-Grain products"</span>,
                                      <span class='st'>"Total Used"</span>,
                                      <span class='st'>"Not Applicable"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;               &quot;Not Applicable&quot;          </code></pre>
</div>
<p>Has it been created?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                                      <span class='st'>"Total Grain products"</span>,
                                      <span class='st'>"Non-Grain Products"</span>,
                                      <span class='st'>"Total Non-Grain products"</span>,
                                      <span class='st'>"Total Used"</span>,
                                      <span class='st'>"Not Applicable"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
   <span class='co'># we can also count as before but notice that</span>
   <span class='co'># one category that has no data is missing -</span>
   <span class='co'># the artificial `Not Applicable` we added</span>
   <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code># A tibble: 5 x 2
  material_type                n
  &lt;fct&gt;                    &lt;int&gt;
1 Grain Products             600
2 Total Grain products       120
3 Non-Grain Products         480
4 Total Non-Grain products   120
5 Total Used                 120</code></pre>
</div>
<p>A simple <code>count()</code> does not quite let us know, but if we add an argument <code>.drop = FALSE</code> we get counts for all categories, even those with no observations (i.e. that category has a count of 0). By default the <code>count()</code> function drops categories with 0 counts from the output. By adding <code>.drop = FALSE</code> we’re asking for these to be included.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>material_type</span>,
                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Grain Products"</span>,
                                      <span class='st'>"Total Grain products"</span>,
                                      <span class='st'>"Non-Grain Products"</span>,
                                      <span class='st'>"Total Non-Grain products"</span>,
                                      <span class='st'>"Total Used"</span>,
                                      <span class='st'>"Not Applicable"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
   <span class='co'># we can get all categories by adding the .drop = FALSE</span>
   <span class='fu'>count</span><span class='op'>(</span><span class='va'>material_type</span>, .drop <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code># A tibble: 6 x 2
  material_type                n
  &lt;fct&gt;                    &lt;int&gt;
1 Grain Products             600
2 Total Grain products       120
3 Non-Grain Products         480
4 Total Non-Grain products   120
5 Total Used                 120
6 Not Applicable               0</code></pre>
</div></li>
</ol>
<aside>
My locale is English South African, and hence is ASCII. The order preference in sorting is: […, !, ", #, …, 0, 1, …, 9, …, A, …, Z, …].
</aside>
<h3 id="forcatsas_factor">forcats::as_factor()</h3>
<p><span style="color: #5196b4;background-color:#f4e4e7"><code>as_factor()</code></span> behaves differently to <code>as.factor()</code> in that it creates levels in the order in which they appear, hence we get the same factor levels across different locales.</p>
<aside>
Note the underscore <span style="color: #5196b4;background-color:#f4e4e7"><code>_</code></span> instead of the <strong><code>.</code></strong>: as<b>_</b>factor
</aside>
<h4 id="base-rs-as.factor">Base R’s as.factor()</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>test_factor_var</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"012star"</span>, <span class='st'>"DogsRule"</span>, <span class='st'>"!this"</span>, <span class='st'>"%abc"</span>,
            <span class='st'>"Abc#"</span>, <span class='st'>"abc$"</span>, <span class='st'>"$bb"</span>, <span class='st'>"AreYouKiddingCatsRule!"</span><span class='op'>)</span>

<span class='va'>test_factor_var</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='cn'>Inf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 012star                DogsRule              
[3] !this                  %abc                  
[5] Abc#                   abc$                  
[7] $bb                    AreYouKiddingCatsRule!
Levels: !this $bb %abc 012star Abc# abc$ AreYouKiddingCatsRule! DogsRule</code></pre>
</div>
<p>Note that the levels (seen in the output <span style="color: #5196b4;background-color:#f4e4e7"><code>Levels: !this $bb ...</code></span>) follow the [ASCII] sort on my machine, this may be completely different based on your locale.</p>
<h4 id="contrast-with-forcatsas_factor">Contrast with forcats::as_factor()</h4>
<p>Now let’s consider <code>as_factor()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># here is the raw variable again</span>
<span class='va'>test_factor_var</span>
</code></pre>
</div>
<pre><code>[1] &quot;012star&quot;                &quot;DogsRule&quot;              
[3] &quot;!this&quot;                  &quot;%abc&quot;                  
[5] &quot;Abc#&quot;                   &quot;abc$&quot;                  
[7] &quot;$bb&quot;                    &quot;AreYouKiddingCatsRule!&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Now let's make it a factor, this time using</span>
<span class='co'># as_factor()</span>
<span class='va'>test_factor_var</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>as_factor</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='cn'>Inf</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 012star                DogsRule              
[3] !this                  %abc                  
[5] Abc#                   abc$                  
[7] $bb                    AreYouKiddingCatsRule!
Levels: 012star DogsRule !this %abc Abc# abc$ $bb AreYouKiddingCatsRule!</code></pre>
</div>
<p>Note that <code>as_factor()</code> kept the order as it appears (<span style="color: #5196b4;background-color:#f4e4e7"><code>Levels: 012star DogsRule ...</code></span>), this will be the same for you, even if your locale is different.</p>
<h4 id="convert-brewer-data">Convert brewer data</h4>
<p>Let’s perform the same conversion we did with Base R functions, but now using <span style="color: #5196b4;background-color:#f4e4e7"><code>forcats::as_factor()</code></span>.</p>
<ul>
<li><p>First let’s have a look at the default order that <code>as_factor()</code> creates the variable in.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='co'># what order are material_type observations in?</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>12</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code> [1] &quot;Grain Products&quot;           &quot;Grain Products&quot;          
 [3] &quot;Grain Products&quot;           &quot;Grain Products&quot;          
 [5] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
 [7] &quot;Non-Grain Products&quot;       &quot;Non-Grain Products&quot;      
 [9] &quot;Non-Grain Products&quot;       &quot;Non-Grain Products&quot;      
[11] &quot;Total Non-Grain products&quot; &quot;Total Used&quot;              </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
</div>
<p>Notice the levels are created in the order they appear in the <code>material_type</code> field - <code>"Grain Products"</code> appeared first hence is Level <strong>1</strong>, <code>"Total Grain products"</code> appeared second hence occupies Level <strong>2</strong>.</p></li>
</ul>
<h3 id="fct_inorder">fct_inorder()</h3>
<p>We can also explicitly use the <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_inorder()</code></span> function to reorder the factor levels by first appearance. I add it here just so you’re aware of this option.</p>
<p>For example, the <code>beer_awards$medal</code> column would be made alphabetical in my locale if I use as.factor().</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 3 x 7
  medal  beer_name        brewery      city    state category     year
  &lt;chr&gt;  &lt;chr&gt;            &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;
1 Gold   Volksbier Vienna Wibby Brewi~ Longmo~ CO    American A~  2020
2 Silver Oktoberfest      Founders Br~ Grand ~ MI    American A~  2020
3 Bronze Amber Lager      Skipping Ro~ Staunt~ VA    American A~  2020</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>medal <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>medal</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pull</span><span class='op'>(</span><span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Bronze&quot; &quot;Gold&quot;   &quot;Silver&quot;</code></pre>
</div>
<p>Notice the alphabetical ordering of levels (Bronze, Gold, Silver).</p>
<p>If I follow this with a <code>fct_inorder()</code> the ordering of levels is now using the order of appearance instead.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>medal <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> <span class='fu'>fct_inorder</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pull</span><span class='op'>(</span><span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Gold&quot;   &quot;Silver&quot; &quot;Bronze&quot;</code></pre>
</div>
<p>In most cases we’d want this to be Bronze, Silver, Gold in order of increasing award type. We’ll see how to do that just now.</p>
<h2 id="manually-order-levels">Manually order levels</h2>
<h3 id="fct_relevel">fct_relevel()</h3>
<ul>
<li><p>Now we may specify the order ourselves (i.e. manually order the levels) by using <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_relevel()</code></span>. For example, as we talked about previously, we may want the award medals to be ordered Bronze, Silver, Gold in order of increasing award type, instead of order of appearance (or Base R’s alpha sorting in my locale).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
    <span class='co'># I want to specify my factor levels myself</span>
    <span class='fu'>mutate</span><span class='op'>(</span>medal <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>medal</span>,
                   <span class='co'># we want a specific order, and</span>
                   <span class='co'># the order in which the categories</span>
                   <span class='co'># appear does not meet that specification</span>
                               <span class='st'>"Bronze"</span>,
                               <span class='st'>"Silver"</span>,
                               <span class='st'>"Gold"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Bronze&quot; &quot;Silver&quot; &quot;Gold&quot;  </code></pre>
</div></li>
<li><p>We can’t add a level that is not in the dataset, or we can, but we get a <span style="color: #FFE4E1;background-color:#FD5800">Warning</span>), and the level is not added.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials_forcats</span> <span class='op'>&lt;-</span> <span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
    <span class='co'># create a factor</span>
    <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span><span class='op'>)</span>

  <span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span>
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='co'># what's the default levels?</span>
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span> 
    <span class='co'># we relevel by specifying the order we want</span>
    <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>material_type</span>,
                                       <span class='st'>"Grain Products"</span>,
                                       <span class='st'>"Non-Grain Products"</span>,
                                       <span class='st'>"Total Grain products"</span>,
                                       <span class='st'>"Total Non-Grain products"</span>,
                                       <span class='st'>"Total Used"</span>,
                                       <span class='co'># adding a level that does not exist</span>
                                       <span class='st'>"Not Applicable"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>Warning: Unknown levels in `f`: Not Applicable</code></pre>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Non-Grain Products&quot;      
[3] &quot;Total Grain products&quot;     &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
</div>
<p>Notice the warning you get (<span style="color: #FFE4E1;background-color:#FD5800">Warning: Problem with mutate … </span>. We can’t specify a “level” that does not exist in the observations.</p>
<p>You may have a factor variable that at present has only some of the categories. For example, you may have a month factor variable where the dataset you’re working with only has observations for some months at present. In this case you are going to be specifying the levels yourself so the best is to use the base functions, and specify all months in your <code>levels</code> argument despite these not being a part of the values seen in the observations at present.</p></li>
<li><p>The nice part about <code>fct_relevel()</code> is you don’t have to list all the categories, sometimes you just want to move one level to the beginning, you may do this as shown below. You may also move some part of the list to a specific position, which may be done using the <span style="color: #5196b4;background-color:#f4e4e7"><code>after</code></span> argument.</p>
<ul>
<li><p>Say I want to move all the “Total” columns up front:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Levels at present are:</span>
  <span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span>
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span> 
    <span class='co'># move Total columns to the front of levels</span>
    <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>material_type</span>,
                                       <span class='st'>"Total Used"</span>,
                                       <span class='st'>"Total Grain products"</span>,
                                       <span class='st'>"Total Non-Grain products"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Total Used&quot;               &quot;Total Grain products&quot;    
[3] &quot;Total Non-Grain products&quot; &quot;Grain Products&quot;          
[5] &quot;Non-Grain Products&quot;      </code></pre>
</div>
<p>Notice I did not list all categories. The remaining levels will fall behind the “Total” columns in the order they were originally.</p></li>
<li><p>Say I want to move “Grain Products” to the end. I can specify <code>after = Inf</code> to do this.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Levels at present are:</span>
  <span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span>
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span> 
    <span class='co'># move "Grain Products" to the end of the levels</span>
    <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>material_type</span>,
                                       <span class='st'>"Grain Products"</span>, 
                                       after <span class='op'>=</span> <span class='cn'>Inf</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Total Grain products&quot;     &quot;Non-Grain Products&quot;      
[3] &quot;Total Non-Grain products&quot; &quot;Total Used&quot;              
[5] &quot;Grain Products&quot;          </code></pre>
</div></li>
<li><p>Say I want to move the “Total Grain products” and “Total Non-Grain products” to after the individual amounts. I again can use the <code>after</code> argument to do this. It is easy to get confused as to what integer your <code>after</code> should be set as. I think of it as “What position would I like my moved levels to start from”? In this case I want it to start by occupying slot number 3, then slot number 4, so I set <code>after = 2</code>, meaning “Please put these moved levels after slot number 2”.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Levels at present are:</span>
  <span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span>
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Total Grain products&quot;    
[3] &quot;Non-Grain Products&quot;       &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials_forcats</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>mutate</span><span class='op'>(</span>material_type <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>material_type</span>,
                                       <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Total Grain products"</span>,
                                         <span class='st'>"Total Non-Grain products"</span><span class='op'>)</span>, 
                                       <span class='co'># what slot in the levels</span>
                                       <span class='co'># should these go into?</span>
                                       <span class='co'># I want them to start in slot 3</span>
                                       <span class='co'># so I set  after = 2</span>
                                       after <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>material_type</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Grain Products&quot;           &quot;Non-Grain Products&quot;      
[3] &quot;Total Grain products&quot;     &quot;Total Non-Grain products&quot;
[5] &quot;Total Used&quot;              </code></pre>
</div></li>
</ul></li>
</ul>
<h2 id="collapse-multiple-levels">Collapse multiple levels</h2>
<h3 id="brewer_size">brewer_size</h3>
<p>Let’s have a look at the <code>brewer_size</code> field in the <span style="color: #5196b4;background-color:#f4e4e7"><code>brewer_size</code></span> dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 16 x 2
   brewer_size                        n
   &lt;chr&gt;                          &lt;int&gt;
 1 1 to 1,000 Barrels                11
 2 1,000,000 to 6,000,000 Barrels     1
 3 1,000,001 to 1,999,999 Barrels     9
 4 1,000,001 to 6,000,000 Barrels     1
 5 1,001 to 7,500 Barrels            11
 6 100,001 to 500,000 Barrels        11
 7 15,001 to 30,000 Barrels          11
 8 2,000,000 to 6,000,000 Barrels     9
 9 30,001 to 60,000 Barrels          11
10 500,001 to 1,000,000 Barrels      11
11 6,000,001 Barrels and Over        11
12 60,001 to 100,000 Barrels         11
13 7,501 to 15,000 Barrels           11
14 Total                             11
15 Under 1 Barrel                     6
16 Zero Barrels                       1</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>brewer_size</span>, 
        <span class='co'># count's default is to consider the number of rows</span>
        <span class='co'># in each group, we can change it using wt (weight)</span>
        <span class='co'># weight in this example is:</span>
        <span class='co'># the number of brewers in each brewer size category, </span>
        <span class='co'># so count will sum up `n_of_brewers` for each category of brewer_size</span>
        wt <span class='op'>=</span> <span class='va'>n_of_brewers</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 16 x 2
   brewer_size                        n
   &lt;chr&gt;                          &lt;dbl&gt;
 1 1 to 1,000 Barrels             27956
 2 1,000,000 to 6,000,000 Barrels     5
 3 1,000,001 to 1,999,999 Barrels    45
 4 1,000,001 to 6,000,000 Barrels     4
 5 1,001 to 7,500 Barrels          8368
 6 100,001 to 500,000 Barrels       439
 7 15,001 to 30,000 Barrels         728
 8 2,000,000 to 6,000,000 Barrels    47
 9 30,001 to 60,000 Barrels         556
10 500,001 to 1,000,000 Barrels      92
11 6,000,001 Barrels and Over       174
12 60,001 to 100,000 Barrels        291
13 7,501 to 15,000 Barrels         1163
14 Total                          41946
15 Under 1 Barrel                  1602
16 Zero Barrels                     476</code></pre>
</div>
<p>Notice that the brewer_size variable has a few categories which are slightly different, but which overlap.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">brewer_size</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1,000,000 to 6,000,000 Barrels</td>
</tr>
<tr class="even">
<td style="text-align: center;">1,000,001 to 6,000,000 Barrels</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1,000,001 to 1,999,999 Barrels</td>
</tr>
<tr class="even">
<td style="text-align: center;">2,000,000 to 6,000,000 Barrels</td>
</tr>
</tbody>
</table>
<p>If you look closely it seems as though <em>1,000,000 to 6,000,000 Barrels</em> may be a typo, since <em>500,001 to 1,000,000 Barrels</em> is already a category in that year.</p>
<p>It also looks as if <em>1,000,001 to 6,000,000 Barrels</em> was split into <em>1,000,001 to 1,999,999 Barrels</em> and <em>2,000,000 to 6,000,000 Barrels</em> from 2011 onwards.</p>
<h3 id="fct_collapse">fct_collapse()</h3>
<p>We can consolidate these levels into one level by using <code>fct_collapse()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># what are the current levels in this variable</span>
<span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewer_size <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pull</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;6,000,001 Barrels and Over&quot;     &quot;1,000,001 to 6,000,000 Barrels&quot;
 [3] &quot;500,001 to 1,000,000 Barrels&quot;   &quot;100,001 to 500,000 Barrels&quot;    
 [5] &quot;60,001 to 100,000 Barrels&quot;      &quot;30,001 to 60,000 Barrels&quot;      
 [7] &quot;15,001 to 30,000 Barrels&quot;       &quot;7,501 to 15,000 Barrels&quot;       
 [9] &quot;1,001 to 7,500 Barrels&quot;         &quot;1 to 1,000 Barrels&quot;            
[11] &quot;Under 1 Barrel&quot;                 &quot;Total&quot;                         
[13] &quot;1,000,000 to 6,000,000 Barrels&quot; &quot;2,000,000 to 6,000,000 Barrels&quot;
[15] &quot;1,000,001 to 1,999,999 Barrels&quot; &quot;Zero Barrels&quot;                  </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewer_size <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewer_size <span class='op'>=</span> <span class='fu'>fct_collapse</span><span class='op'>(</span><span class='va'>brewer_size</span>,
            <span class='co'># the new category name</span>
            <span class='st'>"1,000,000 to 6,000,000 Barrels"</span> <span class='op'>=</span> 
            <span class='co'># the current categories that must become</span>
            <span class='co'># the new category</span>
              <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"1,000,000 to 6,000,000 Barrels"</span>,
                <span class='st'>"1,000,001 to 6,000,000 Barrels"</span>,
                <span class='st'>"1,000,001 to 1,999,999 Barrels"</span>,
                <span class='st'>"2,000,000 to 6,000,000 Barrels"</span><span class='op'>)</span>
        <span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pull</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;6,000,001 Barrels and Over&quot;     &quot;1,000,000 to 6,000,000 Barrels&quot;
 [3] &quot;500,001 to 1,000,000 Barrels&quot;   &quot;100,001 to 500,000 Barrels&quot;    
 [5] &quot;60,001 to 100,000 Barrels&quot;      &quot;30,001 to 60,000 Barrels&quot;      
 [7] &quot;15,001 to 30,000 Barrels&quot;       &quot;7,501 to 15,000 Barrels&quot;       
 [9] &quot;1,001 to 7,500 Barrels&quot;         &quot;1 to 1,000 Barrels&quot;            
[11] &quot;Under 1 Barrel&quot;                 &quot;Total&quot;                         
[13] &quot;Zero Barrels&quot;                  </code></pre>
</div>
<p>Notice that our previous <strong>16</strong> levels are now <strong>13</strong>.</p>
<p>In this case we’d also want to reorder the levels further by using <code>fct_relevel()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewer_size</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewer_size <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewer_size <span class='op'>=</span> <span class='fu'>fct_collapse</span><span class='op'>(</span><span class='va'>brewer_size</span>,
            <span class='st'>"1,000,000 to 6,000,000 Barrels"</span> <span class='op'>=</span> 
              <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"1,000,000 to 6,000,000 Barrels"</span>,
                <span class='st'>"1,000,001 to 6,000,000 Barrels"</span>,
                <span class='st'>"1,000,001 to 1,999,999 Barrels"</span>,
                <span class='st'>"2,000,000 to 6,000,000 Barrels"</span><span class='op'>)</span>
        <span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewer_size <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>brewer_size</span>,
        <span class='st'>"Zero Barrels"</span>,
        <span class='st'>"Under 1 Barrel"</span>,
        <span class='st'>"1 to 1,000 Barrels"</span>,
        <span class='st'>"1,001 to 7,500 Barrels"</span>,
        <span class='st'>"7,501 to 15,000 Barrels"</span>,
        <span class='st'>"15,001 to 30,000 Barrels"</span>,
        <span class='st'>"30,001 to 60,000 Barrels"</span>,
        <span class='st'>"60,001 to 100,000 Barrels"</span>,
        <span class='st'>"100,001 to 500,000 Barrels"</span>,
        <span class='st'>"500,001 to 1,000,000 Barrels"</span>,
        <span class='st'>"1,000,000 to 6,000,000 Barrels"</span>,
        <span class='st'>"6,000,001 Barrels and Over"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pull</span><span class='op'>(</span><span class='va'>brewer_size</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;Zero Barrels&quot;                   &quot;Under 1 Barrel&quot;                
 [3] &quot;1 to 1,000 Barrels&quot;             &quot;1,001 to 7,500 Barrels&quot;        
 [5] &quot;7,501 to 15,000 Barrels&quot;        &quot;15,001 to 30,000 Barrels&quot;      
 [7] &quot;30,001 to 60,000 Barrels&quot;       &quot;60,001 to 100,000 Barrels&quot;     
 [9] &quot;100,001 to 500,000 Barrels&quot;     &quot;500,001 to 1,000,000 Barrels&quot;  
[11] &quot;1,000,000 to 6,000,000 Barrels&quot; &quot;6,000,001 Barrels and Over&quot;    
[13] &quot;Total&quot;                         </code></pre>
</div>
<h2 id="reduce-categories">Reduce categories</h2>
<p>We saw that <code>fct_collapse()</code> is used to reduce categories. In the above example, there was some order to the levels so the best we can do is collapse levels into fewer categories, i.e. an <code>Other</code> category does not make much sense in the example we used above.</p>
<p>Some times you have way too many levels to visualise, or be useful in considerations, but there isn’t any inherent order in the levels. We will discuss different category reduction strategies for these (i.e. where an <code>Other</code> category is a viable option).</p>
<h3 id="beer_awards">beer_awards</h3>
<p>Let’s use the <code>beer_awards</code> dataset for this part.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>brewery</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-715bf5ccf9833bcb5850" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-715bf5ccf9833bcb5850">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803","804","805","806","807","808","809","810","811","812","813","814","815","816","817","818","819","820","821","822","823","824","825","826","827","828","829","830","831","832","833","834","835","836","837","838","839","840","841","842","843","844","845","846","847","848","849","850","851","852","853","854","855","856","857","858","859","860","861","862","863","864","865","866","867","868","869","870","871","872","873","874","875","876","877","878","879","880","881","882","883","884","885","886","887","888","889","890","891","892","893","894","895","896","897","898","899","900","901","902","903","904","905","906","907","908","909","910","911","912","913","914","915","916","917","918","919","920","921","922","923","924","925","926","927","928","929","930","931","932","933","934","935","936","937","938","939","940","941","942","943","944","945","946","947","948","949","950","951","952","953","954","955","956","957","958","959","960","961","962","963","964","965","966","967","968","969","970","971","972","973","974","975","976","977","978","979","980","981","982","983","984","985","986","987","988","989","990","991","992","993","994","995","996","997","998","999","1000","1001","1002","1003","1004","1005","1006","1007","1008","1009","1010","1011","1012","1013","1014","1015","1016","1017","1018","1019","1020","1021","1022","1023","1024","1025","1026","1027","1028","1029","1030","1031","1032","1033","1034","1035","1036","1037","1038","1039","1040","1041","1042","1043","1044","1045","1046","1047","1048","1049","1050","1051","1052","1053","1054","1055","1056","1057","1058","1059","1060","1061","1062","1063","1064","1065","1066","1067","1068","1069","1070","1071","1072","1073","1074","1075","1076","1077","1078","1079","1080","1081","1082","1083","1084","1085","1086","1087","1088","1089","1090","1091","1092","1093","1094","1095","1096","1097","1098","1099","1100","1101","1102","1103","1104","1105","1106","1107","1108","1109","1110","1111","1112","1113","1114","1115","1116","1117","1118","1119","1120","1121","1122","1123","1124","1125","1126","1127","1128","1129","1130","1131","1132","1133","1134","1135","1136","1137","1138","1139","1140","1141","1142","1143","1144","1145","1146","1147","1148","1149","1150","1151","1152","1153","1154","1155","1156","1157","1158","1159","1160","1161","1162","1163","1164","1165","1166","1167","1168","1169","1170","1171","1172","1173","1174","1175","1176","1177","1178","1179","1180","1181","1182","1183","1184","1185","1186","1187","1188","1189","1190","1191","1192","1193","1194","1195","1196","1197","1198","1199","1200","1201","1202","1203","1204","1205","1206","1207","1208","1209","1210","1211","1212","1213","1214","1215","1216","1217","1218","1219","1220","1221","1222","1223","1224","1225","1226","1227","1228","1229","1230","1231","1232","1233","1234","1235","1236","1237","1238","1239","1240","1241","1242","1243","1244","1245","1246","1247","1248","1249","1250","1251","1252","1253","1254","1255","1256","1257","1258","1259","1260","1261","1262","1263","1264","1265","1266","1267","1268","1269","1270","1271","1272","1273","1274","1275","1276","1277","1278","1279","1280","1281","1282","1283","1284","1285","1286","1287","1288","1289","1290","1291","1292","1293","1294","1295","1296","1297","1298","1299","1300","1301","1302","1303","1304","1305","1306","1307","1308","1309","1310","1311","1312","1313","1314","1315","1316","1317","1318","1319","1320","1321","1322","1323","1324","1325","1326","1327","1328","1329","1330","1331","1332","1333","1334","1335","1336","1337","1338","1339","1340","1341","1342","1343","1344","1345","1346","1347","1348","1349","1350","1351","1352","1353","1354","1355","1356","1357","1358","1359","1360","1361","1362","1363","1364","1365","1366","1367","1368","1369","1370","1371","1372","1373","1374","1375","1376","1377","1378","1379","1380","1381","1382","1383","1384","1385","1386","1387","1388","1389","1390","1391","1392","1393","1394","1395","1396","1397","1398","1399","1400","1401","1402","1403","1404","1405","1406","1407","1408","1409","1410","1411","1412","1413","1414","1415","1416","1417","1418","1419","1420","1421","1422","1423","1424","1425","1426","1427","1428","1429","1430","1431","1432","1433","1434","1435","1436","1437","1438","1439","1440","1441","1442","1443","1444","1445","1446","1447","1448","1449","1450","1451","1452","1453","1454","1455","1456","1457","1458","1459","1460","1461","1462","1463","1464","1465","1466","1467","1468","1469","1470","1471","1472","1473","1474","1475","1476","1477","1478","1479","1480","1481","1482","1483","1484","1485","1486","1487","1488","1489","1490","1491","1492","1493","1494","1495","1496","1497","1498","1499","1500","1501","1502","1503","1504","1505","1506","1507","1508","1509","1510","1511","1512","1513","1514","1515","1516","1517","1518","1519","1520","1521","1522","1523","1524","1525","1526","1527","1528","1529","1530","1531","1532","1533","1534","1535","1536","1537","1538","1539","1540","1541","1542","1543","1544","1545","1546","1547","1548","1549","1550","1551","1552","1553","1554","1555","1556","1557","1558","1559","1560","1561","1562","1563","1564","1565","1566","1567","1568","1569","1570","1571","1572","1573","1574","1575","1576","1577","1578","1579","1580","1581","1582","1583","1584","1585","1586","1587","1588","1589","1590","1591","1592","1593","1594","1595","1596","1597","1598","1599","1600","1601","1602","1603","1604","1605","1606","1607","1608","1609","1610","1611","1612","1613","1614","1615","1616","1617","1618","1619","1620","1621","1622","1623","1624","1625","1626","1627","1628","1629","1630","1631","1632","1633","1634","1635","1636","1637","1638","1639","1640","1641","1642","1643","1644","1645","1646","1647","1648","1649","1650","1651","1652","1653","1654","1655","1656","1657","1658","1659","1660","1661","1662","1663","1664","1665","1666","1667","1668","1669","1670","1671","1672","1673","1674","1675","1676","1677","1678","1679","1680","1681","1682","1683","1684","1685","1686","1687","1688","1689","1690","1691","1692","1693","1694","1695","1696","1697","1698","1699","1700","1701","1702","1703","1704","1705","1706","1707","1708","1709","1710","1711","1712","1713","1714","1715","1716","1717","1718","1719","1720","1721","1722","1723","1724","1725","1726","1727","1728","1729","1730","1731","1732","1733","1734","1735","1736","1737","1738","1739","1740","1741","1742","1743","1744","1745","1746","1747","1748","1749","1750","1751","1752","1753","1754","1755","1756","1757","1758","1759","1760","1761","1762","1763","1764","1765","1766","1767","1768","1769","1770","1771","1772","1773","1774","1775","1776","1777","1778","1779","1780","1781","1782","1783","1784","1785","1786","1787","1788","1789","1790","1791","1792","1793","1794","1795","1796","1797","1798","1799","1800","1801","1802","1803","1804","1805","1806","1807","1808","1809","1810","1811","1812","1813","1814","1815","1816","1817","1818","1819","1820","1821","1822","1823","1824","1825","1826","1827","1828","1829","1830","1831","1832","1833","1834","1835","1836","1837","1838","1839","1840","1841","1842","1843","1844","1845","1846","1847","1848","1849","1850","1851","1852","1853","1854","1855","1856","1857","1858","1859"],["Pabst Brewing Co.","Miller Brewing Co.","Anheuser-Busch, Inc","Firestone Walker Brewing Co.","Alaskan Brewing and Bottling Co.","Boston Beer Co.","Coors Brewing Co.","New Belgium Brewing Co.","Marin Brewing Co.","New Glarus Brewing Co.","Deschutes Brewery","Pizza Port - Carlsbad","Pelican Pub &amp; Brewery","Saint Arnold Brewing Co.","Snake River Brewing Co.","Rock Bottom Breweries","Sandlot Brewery at Coors Field","Stoudt's Brewing Co.","Goose Island Beer Co.","Rogue Ales","Stroh Brewery Co. (The)","AleSmith Brewing Co.","Barley Brown's Brew Pub","Bear Republic Brewing Co.","Flying Dog Brewery","Redrock Brewing Co.","Russian River Brewing Co.","Sierra Nevada Brewing Co.","Allagash Brewing Co.","G. Heileman Brewing Co.","Big Time Brewing Co.","Boulevard Brewing Co.","Elysian Brewing Co.","Odell Brewing Co.","Pennsylvania Brewing Co.","Pizza Port - Solana Beach","Widmer Brothers Brewing Co.","Capital Brewery Co. Inc","Chuckanut Brewery","Left Hand Brewing Co.","Steamworks Brewing Co.","Sun King Brewing Co.","TrC3=B6egs Brewing Co.","Utah Brewers Cooperative","Alaskan Brewing Co.","Anchor Brewing Co.","Devils Backbone Brewing Co. - Basecamp","Flossmoor Station Brewing Co.","Great Divide Brewing Co.","Iron Hill Brewery &amp; Restaurant - Media","Montana Brewing Co.","Morgan Territory Brewing","North Coast Brewing Co. Inc","Piece Brewery","Bend Brewing Co.","Iron Hill Brewery &amp; Restaurant","Jacob Leinenkugel Brewing Co.","Minneapolis Town Hall Brewery","Redwood Coast Brewing Co.","Uinta Brewing Co.","10 Barrel Brewing Co.","Anderson Valley Brewing Co.","Beachwood BBQ &amp; Brewing","Bristol Brewing Co.","Cannonball Creek Brewing Co.","Seabright Brewery","Springfield Brewing Co.","Starr Hill Brewing Co.","Summit Brewing Co.","TAPS Fish House &amp; Brewery","Tommyknocker Brewery","Cambridge Brewing Co.","Glenwood Canyon Brewing Co.","Gordon Biersch Brewery Restaurant Group","Great Lakes Brewing Co/Ohio","Pacific Coast Brewing Co.","Prescott Brewing Co.","Rock Bottom Brewery","Southampton Publick House","Steelhead Brewing Co.","August Schell Brewing Co.","Baltimore Brewing Co.","BJ's Restaurant &amp; Brewery","Blind Tiger Brewery &amp; Restaurant","Blue Moon Brewing Co.","Chicago Brewing Co.","Deschutes Brewery (No 2)","Dogfish Head Craft Brewery","Eel River Brewing Co.","Elk Grove Brewery and Restaurant","Empire Brewing Co.","Flying Fish Brewing Co.","Four Peaks Brewing Co.","Full Sail Brewing Co.","Mad River Brewing Co.","Marble Brewery","Old Dominion Brewing Co.","Pizza Port Ocean Beach","Real Ale Brewing Co.","SandLot (The)","Ska Brewing Co.","Third Street AleWorks","Thunder Canyon Brewery","Angelic Brewing Co.","Auburn Alehouse","Avery Brewing Co.","Big Dog's Brewing Co.","Boscos Brewing Co.","Captain Lawrence Brewing Co.","Clipper City Brewing Co.","Founders Brewing Co.","Genesee/High Falls Brewing","Main Street Brewery","Millstream Brewing Co.","Mountain Sun Pub and Brewery","Pizza Port Carlsbad","Port City Brewing Co.","Silver City Brewery","Sly Fox Brewing Co.","Stewart's Brewing Co.","Sudwerk Privatbrauerei Hubsch","21st Amendment Brewery","Ballast Point Brewing Co.","Boundary Bay Brewery","Capitol City Brewing Co.","Devils Backbone Brewing Co.","Devils Backbone Brewing Co. - Outpost","Dry Dock Brewing Co.","Fat Head's Brewery","Foothills Brewing","Great Adirondack Brewing Co.","Great American Restaurants","Great Basin Brewing Co.","Great Dane Pub &amp; Brewing Co. (The)","Grimm Brothers Brewhouse","MillerCoors","New Holland Brewing Co.","Oggi's Pizza &amp; Brewing Co.","Port Brewing Co.","Stevens Point Brewery","Sweetwater Brewing Co.","Two Brothers Brewing Co.","AC Golden Brewing Co.","Altitude Chophouse and Brewery","Appleton Brewing Co/Adler Brau","Bastone Brewery","Black Tooth Brewing Co.","Breakside Brewery","Brewery Ommegang","Butterfield Brewing Co.","Celis Brewery Inc","Chama River Brewing Co.","Cigar City Brewing","Dry Dock Brewing Co. - South Dock","Durango Brewing Co.","Fat Head's Brewery &amp; Saloon","Gordon Biersch Brewery Restaurants","Great South Bay Brewery","Green Flash Brewing Co.","Hub City Brewery","Hudepohl-Schoenling Brewing Co.","Il Vicino Brewing Co.","Jones Brewing Co.","Laurelwood Brewing Co.","Laurelwood Public House &amp; Brewery","Left Hand/Tabernash Brewing","Lewis &amp; Clark Brewing Co.","Lion Brewery Inc (The)","Long Valley Pub and Brewery","McKenzie Brew House","Moose's Tooth Brewing Co.","Moylan's Brewing Co.","Pelican Brewing Co.","Perennial Artisan Ales","Pizza Port Solana Beach","Pyramid Breweries Inc","Rockies Brewing Co.","Rocky River Brewing Co.","Saxer Brewing Co.","Spoetzl Brewery (The)","Squatters Pub Brewery","Sun Valley Brewing Co.","Telegraph Brewing Co.","The Austin Beer Garden Brewing Co.","The Commons Brewery","Upslope Brewing Co.","Wynkoop Brewing Co.","Austin Beerworks","Backcountry Brewery","Barton Beers Ltd","Big Horn Brewing Co.","BJ's Restaurant &amp; Brewery - Chandler","Blackstone Restaurant &amp; Brewery","Blue Mountain Brewery","Blue Point Brewing Co.","Bluegrass Brewing Co.","Boise Brewing","Brewzzi","Bull &amp; Bush Brewery","Carver Brewing Co.","Church Brew Works","Claremont Craft Ales","Community Beer Co.","Copper Tank Brewing Co.","Crooked River Brewing Co.","Duck-Rabbit Craft Brewery","El Toro Brewing Co.","Firestone Walker Barrelworks","Free State Brewing Co.","Heavenly Daze Brewery &amp; Grill","High Falls Brewing Co.","Joseph Huber Brewing Co.","Logboat Brewing Co.","Mammoth Brewing","Mickey Finn's Brewery","Midnight Sun Brewing Co.","Pete's Brewing Co.","Plank Road Brewery","Port Brewing Co. Pizza Port Carlsbad","Portland Brewing Co.","Pug Ryan's Brewery","Pyramid Alehouse/Breweries Inc","Red Rock Brewing Co.","Redhook Ale Brewery","Rock Bottom Brewery - Chicago","Rockyard Brewing Co.","Rubicon Brewing Co.","Short's Brewing Co.","Snake River Brewing","Sprecher Brewing Co.","Stoddard's Brewhouse &amp; Eatery","The Bruery","The Lost Abbey","The Post Brewing Co.","Triumph Brewing Co. of New Hope","Twisted Pine Brewing Co.","2SP Brewing Co.","Alchemist (The)","Alesong Brewing &amp; Blending","Alltech's Lexington Brewing Co.","Alpine Beer Co.","Barley Brothers Brewery","Bell's Brewery, Inc","Bitter End Bistro &amp; Brewery","Blitz-Weinhard Brewing Co.","BNS Brewing &amp; Distilling Co.","Bootstrap Brewing Co.","Breakwater Brewing Co.","Brink Brewing Co.","Brown Truck Brewery","Brugge Brasserie","Bull and Bush Pub and Brewery","Chelsea Brewing Co.","Chuckanut Brewery - North Nut","Comrade Brewing Co.","Denver Beer Co.","Echo Brewing Co.","F.X. Matt Brewing Co.","FiftyFifty Brewing Co.","Figueroa Mountain Brewing Co.","Fredericksburg Brewing Co.","Funkwerks","Gella's Diner and Lb. Brewing Co.","Great Northern Brewing Co.","Ground Breaker Brewing","Hart Brewing, Inc","Humboldt Brewery","Independence Brewing Co.","Iron Hill Brewery &amp; Restaurant - Newark","Island Brewing Co.","Jolly Pumpkin Artisan Ales","Karl Strauss Brewing Co. - La Jolla","Kern River Brewing Co.","Kuhnhenn Brewing Co.","La Cumbre Brewing Co.","Lakefront Brewery Inc","Long Trail Brewing Co.","Lost Rhino Brewing Co.","Lumberyard Brewing Co.","McCoys Public House &amp; BrewKitchen","Michigan Brewing Co.","Minnesota Brewing","New South Brewing","Nodding Heading Brewing Co.","O'Fallon Brewery","Oskar Blues Brewery","Pizza Port - San Clemente","Pumphouse Brewery &amp; Restaurant","Red Lodge Ales Brewing Co.","Redfish New Orleans Brewhouse","Redwood Brewing Co.","Riip Beer Co.","Rock Bottom Brewery - Bethesda","Rock Bottom Brewery - Long Beach","Saddle Mountain Brewing Co.","Santa Fe Brewing Co.","Sierra Blanca Brewing Co.","Silver City Brewing Co.","Sioux Falls Brewing Co.","Spoetzl Brewery","St. Ides Brewing Co.","Steel Toe Brewing","Stone Brewing Co.","Sun King Brewery - Indianapolis","Surly Brewing Co.","SweetWater Brewing Co.","Telluride Brewing Co.","The SandLot","Thirsty Dog Brewing Co.","Titletown Brewing Co.","Triple Rock Brewery and Alehouse","Tustin Brewing Co.","Uberbrew","Upland Brewing Co.","Upstream Brewing Co.","Wander Brewing","Waterloo Brewing Co.","WeldWerks Brewing Co.","Wolf Canyon Brewing Co.","Yards Brewing Co.","AC Golden","Alameda Brewing Co.","Alvarado Street Brewery &amp; Grill","American Brewing Co.","Amherst Brewing Co.","Anheuser-Busch","Atwater Block Brewing Co.","Ballast Point Brewing &amp; Spirits - Scripps Ranch","Bardo Rodeo","Barley Brown's Beer","Barley Island Brewing Co.","Beachwood Blendery","Birds Fly South Ale Project","Black Bottle Brewery","Black Diamond Brewing Co.","Blackstone Brewing Co.","Bootlegger's Brewery","Bosque Brewing Co.","Bottle Logic Brewing","Breakside Brewery &amp; Taproom","Breckenridge Brewery","Brew Hub","BridgePort Brewing Co.","Brooklyn Brewery","Brooklyn Brewery (The)","C.H. Evans Brewing Co. at the Albany Pump Station","Cambridge House Brewpub (The)","Central Standard Brewing","Central Waters Brewing Co.","City Star Brewing","Cloudburst Brewing","Coastal Empire Beer Co.","Colorado Boy Pub &amp; Brewery","Columbus Brewing Co.","Commonwealth Brewing Co.","CooperSmith's Pub","Corridor Brewery &amp; Provisions","Cottonwood Brewery","Covey Restaurant &amp; Brewery (The)","Crooked Stave Artisan Beer Project","Denver Beer Co. - Olde Town Arvada","Desert Edge Brewery","Detroit Beer Co. (The)","Devil Mountain Brewery","Diamondback Brewing Co.","Dillon DAM Brewery","Dock Street Brewery","Dostal Alley Brewpub &amp; Casino","Drake's Brewing Co.","Earth Rider Brewery","Elliott Bay Brewery Pub","Figueroa Mountain Brewing","Figueroa Mountain Brewing Co. - Santa Barbara","FireHouse Grill &amp; Brewery","Fish Brewing Co.","Flat Branch Pub and Brewery","Flat Tail Brewing Co.","Flyers Restaurant and Brewery","Frankenmuth Brewery Inc","Frederick Brewing Co.","Georgetown Brewing Co.","Gezellig Brewing Co.","Grains of Wrath Brewing","Grand Teton Brewing Co.","Grimm Artisanal Ales","H.C. Berger Brewing","Hailstorm Brewing Co.","High Water Brewing","Hillman Beer","Hollister Brewing Co.","Holy Cow!","Hoppin' Frog Brewing Co.","Hops Bistro And Brewery (No 1)","Hoptown Brewing Co.","Hopworks Urban Brewery","Hubcap Brewery &amp; Kitchen - Dallas","Humperdinks Restaurant and Brewery","Huntington Beach Beer Co.","J.T. Whitneys Pub &amp; Brewery","James Page Brewing Co.","Jos Schlitz Brewing Co.","Kalamazoo Brewing","Kansas City Bier Co.","Karl Strauss Brewing Co.","Karl Strauss Brewing Co. - San Diego","Kern River Brewing Co. - The Backyard","Kings Brewing Co.","Knee Deep Brewing Co.","Liberty Street Brewing Co.","Lion Bridge Brewing Co.","Logsdon Farmhouse Ales","Lone Star Brewing Co.","Lone Tree Brewing Co.","Lynnwood Brewing Concern - Production Facility","Mad Anthony Brewing Co.","Mad Fox Brewing Co.","Masthead Brewing Co.","Maui Brewing Co.","McKenzie River Partners","McNeill's Brewery","Melvin Brewing","Mendocino Brewing Co.","Metazoa Brewing Co.","Michelob Brewing Co.","Mill Brewery, Eatery &amp; Bakery","Moonraker Brewing Co.","Nebraska Brewing Co.","NoDa Brewing Co. - NE","Nodding Head Brewing Co.","Oaken Barrel Brewing Co.","Old Marlborough Brewing Co.","Old Town Brewing","Olde Hickory Brewery","Pacific Brewing Co.","Peticolas Brewing Co.","pFriem Family Brewers","Phantom Canyon Brewing Co.","Philipsburg Brewing Co.","Pike Brewing Co.","Pinthouse Pizza North","PIVO Brewery","Pizza Port San Clemente","Pollyanna Brewing Co.","Pony Express Brewing Co.","Port Brewing &amp; The Lost Abbey","Portland Brewing Co. (No 2)","Quarter Celtic Brewpub","Rahr &amp; Sons Brewing Co.","Rainier Brewing Co. Inc","RAM International/Big Horn Brewing","Ram Restaurant &amp; Brewery (Indianapolis)","Redwood Curtain Brewing Co.","Revelry Brewing Co.","Revolution Brewing","Rhino Chasers","River's Edge Brewing Co.","Rocky River Brewing Co. - Ohio","Rowley Farmhouse Ales","Salem Beer Works","San Andreas Brewing Co.","Schaefer Brewing Co.","Schlitz Brewing Co.","Second Chance Beer Co.","Shoe Tree Brewing Co.","Silver Moon Brewing","SLO Brewing Co.","Smuggler's Brewpub","Smuttynose Brewing Co.","Smylie Brothers Brewing Co.","Societe Brewing Co.","SouthNorte Beer Co.","Steelhead Brewery &amp; Cafe","Stereo Brewing Co.","Stone Brewing World Bistro &amp; Gardens - Liberty Station","Sudwerk Brewing Co.","TAPS Fish House and Brewery - Corona","Terrapin Beer Co.","The Church Brew Works","The Freehouse","The Rare Barrel","Third Space Brewing","Three Floyds Brewing Co.","Titanic Brewing Co.","Trinity Brewing Co.","Twenty Tank Brewery","Valhalla Microbrewery &amp; Restaurant","Victory Brewing Co.","Walnut Brewery","Water Street Brewery","Weyerbacher Brewing Co.","Wiley Roots Brewing Co.","Willoughby Brewing Co. (The)","Wolverine State Brewing Co.","Yazoo Brewing Co.","21st Amendment Brewery Caf=C3=A9","5 Rabbit Cerveceria","75th Street Brewery","Adelbert's Brewery","Aftershock Brewing Co.","Alarmist Brewing","Alcatraz Brewing Co","Allentown/Bethlehem Brew Works","Alvarado Street Brewery","Alvarado Street Brewery &amp; Tasting Room","Amicas","Appalachian Mountain Brewery - Portsmouth","Arcadia Brewing Co.","Ardent Craft Ales","Arizona Roadhouse and Brewery","Armadillo Ale Works","Aurochs Brewing Co.","Back Bay Brewing Co.","Baere Brewing Co.","Bagby Beer Co.","Baker City Brewing Co.","Barrio Brewing Co.","Basil Ts Brewpub &amp; Italian Grill","Bear Republic Factory Five","BearWaters Brewing Co.","Beaver St. Brewery","Bell's Brewery","Bemidji Brewing Co.","Bent Paddle Brewing Co.","Big Horn Brewing Co. @ The Ram 1","Big Rock Chop House &amp; Brewery","Big Top Brewing Co.","Bills Tavern and Brewhouse","Bison Brewing Co.","BJ's Pizza, Grill &amp; Brewery","BJ's Restaurant &amp; Brewery - Boulder","Black Market Brewing Co.","Black Project Spontaneous &amp; Wild Ales","Blackstone Restaurant","Blind Pig Brewing Co.","Bonn Place Brewing","Bottoms Up Brewing Co.","Boulder Beer Co.","Boxing Bear Brewing Co.","Brasserie Saint James","Bravery Brewing","Breakers Restaurant &amp; Brewpub","Breckenridge Brewery Denver","Brew Kettle Production Works (The)","BrewWorks Restaurant","Bullfrog Brewery","C3=9Cberbrew","Campbell Brewing Co.","Canteen Brew House","Capital Brewery Co.","Carolina Brewery","Carson's Brewery","Cascade Brewery Co. LLC","Castle Island Brewing Co.","Castle Springs Brewing Co.","CB &amp; Potts Restaurant &amp; Brewery - Highlands Ranch","Central Coast Brewing Co.","Chelsea Brewery","Chicago Pizza/BJ's Brewery","Coast Brewing Co.","Coldfire Brewing","Colorado Boy Brewing Co.","Community Beer Works","CooperSmith's Pub &amp; Brewing","Corporate Ladder Brewing Co.","Corralitos Brewing Co.","Craft Brew Alliance - Kona Brewery","Creature Comforts Brewing Co.","Crooked Lane Brewing Co.","Crow Hop Brewing Co.","Culture Brewing Co.","Danville Brewing Co.","DC Brau Brewing Co.","Del Norte Brewing Co.","Dempsey's Ale House/Sonoma Brewing","Detroit Beer Co.","Discretion Brewing","Docent Brewing","Dry Dock Brewing Co. - North Dock","Duck-Rabbit Craft Brewery Inc (The)","Duck Foot Brewing Co.","DuClaw Brewing Co.","Dust Bowl Brewing Co.","E.J. Phair Brewing Co.","Eagle Rock Brewery","El Segundo Brewing Co.","Emmett's Tavern &amp; Brewing Co.","Eppig Brewing","Equinox Brewing","Eugene City Brewery","Evansville Brewing Co.","Far West Brewing Co.","Fat Head's Brewery - Canton","Fat Head's Brewery - N. Olmstead","Fat Heads Brewery","Fat Heads Brewery &amp; Saloon","FATE Brewing Co.","Fegley's Allentown &amp; Bethlehem Brew Works","Fegley's Brew Works","Figueroa Mountain Brewing - Arroyo Grande","Figueroa Mountain Brewing - Santa Barbara","Figueroa Mountain Brewing - Westlake Village","Figueroa Mountain Brewing Co. - Buellton","Fitzpatrick's","Florida Beer Co.","Fonta Flora Brewery","Foothills Brewing Co.","Freetail Brewing Co.","Front Range Brewing Co.","Full Sail Brewing at Riverplace","Ghostfish Brewing Co.","Gibb's Hundred Brewing Co.","Goat Patch Brewing Co.","Golden City Brewery","Golden Pacific Brewing Co.","GoodLife Brewing Co.","Gordon Biersch Brewery Restaurant","Grapevine Craft Brewery","Gravely Brewing Co.","Gray Brewing Co.","Great Basin Brewing Co. - Sparks","Great Notion Brewing","Green Cheek Beer Co.","Gun Hill Brewing Co.","Hardywood Park Craft Brewery","Hardywood West Creek","Harmon Restaurant &amp; Brewery","Harvester Brewing","Haverhill Brewery","Heartland Brewing Co.","Hereford &amp; Hops Brewpub","Heretic Brewing Co.","Heritage Brewing Co.","Herkimer Pub and Brewery","Historic Brewing Co.","Hobbs Tavern &amp; Brewing Co.","Hoffbrau Steaks Brewery","Holy City Brewing","Honolulu Brewing Co.","Hop Dogma Brewing Co.","Hope Brewing Co.","Hoppers Grill &amp; Brewing Co.","Hoppy Brewing Co.","Hops Restaurant, Bar and Brewery","Hubcap Brewery &amp; Kitchen","IMBIB Custom Brews","Institution Ale Co.","Iron Hill Brewery &amp; Restaurant #1","Iron Hill Brewery &amp; Restaurant #3","Ithaca Beer Co.","J.E. Siebel &amp; Sons Co. Inc","Jack's Abby Brewing","Jarre Creek Ranch Restaurant and Brewing Co.","John HarvardE2=80=99s Brew House","Joseph James Brewing Co.","Kelmers Brewhouse","Kessler Brewing Co.","Kettlehouse Brewing Co.","Kilowatt Brewing","Kona Brewery LLC","Kona Brewing Co.","Lager Heads Brewing Co.","Lakefront Brewery","Leinenkugel's Ballyard Brewery","Local Color Brewing Co.","Lonerider Brewing Co.","LoneRider Brewing Co.","Lost Abbey (The)","Lost Forty Brewing","Magnolia Gastropub and Brewery","Maize Valley Craft Brewery","Maplewood Brewing Co.","Market Garden Brewery","Marley's Brewery &amp; Grille","Max Lager's Wood-Fired Grill &amp; Brewery","McCoy's Public House","Meadowlark Brewing","Mickey's Brewing Co.","Millersburg Brewing","Mirror Image Brewing Co.","Mission Brewery","MobCraft Beer","Moon River Brewing Co.","Moontown Brewing Co.","Moosejaw Pizza and Brewing","Mother Earth Brewing","Napa Valley Brewing Co.","Nectar Ales","Neshaminy Creek Brewing Co.","New Belgium Brewing Co. - Ft. Collins","New England Brewing Co.","New Helvetia Brewing Co.","New River Brewing Co.","New Terrain Brewing Co.","Newport Beach Brewing Co.","Nexus Brewery","Ninkasi Brewing Co.","No Clue Craft Brewery","Noble Ale Works","Oak Creek Brewing Co.","Oakshire Brewing","Oasis Brewery And Restaurant","Oasis Brewery Annex","Ocean Beach Brewery","Odd Side Ales","Odin Brewing Co.","Ogopogo Brewing","Old Town Brewing Co.","Olde Saratoga Brewing Co.","Oldenberg Brewery/Drawbridge","Oregon Trail Brewery","Otter Creek Brewing/Wolaver's Organic Ales","Our Mutual Friend Brewing","Overland Stage Stop Brewery","Packinghouse Brewing Co.","Pagosa Brewing &amp; Grill","Pale Fire Brewing Co.","Panther Island Brewing Co.","Papago Brewing Co.","Pearl Brewing Co.","Pedernales Brewing Co.","Penrose Brewing Co.","Peter B's Brewpub","Pilot Brewing Co.","Pittsburgh Brewing Co","Portsmouth Brewery","Powerhouse Brewing Co. (The)","Powerhouse Restaurant &amp; Brewery","Propolis Brewing","Ram Restaurant and Big Horn Brewery - Boise","Ram Restaurant and Big Horn Brewery - Seattle","RAM Restaurant and Brewery - Wheeling","Red Brick-Atlanta Brewing Co.","Red Leg Brewing Co.","Red Rock Brewery - Production","Redhook Ales - Woodinville","Redhook Brewery Woodinville","Reuben's Brews","Reuben's Brews - The Taproom","Reuben's Brews Taproom","Right Brain Brewery","Rikenjaks Brewing Co. Inc","Rio Salado Brewing Co. Inc","Rip Current Brewery","Ritual Brewing Co.","Riverside Brewing Co.","Rock Bottom Brewery - Desert Ridge","Rock Bottom Brewery - King of Prussia","Rock Bottom Brewery - South Denver","Rock Bottom Brewery - Westminster","Rock Bottom Westminster","Rocket Frog Brewing Co.","Rockford Brewing Co.","Rockyard American Grill &amp; Brewing Co.","Root Down Brewing Co.","Ruby Mountain Brewing Co. Inc","Saint Archer Brewing Co.","Santa Barbara Brewing Co.","Santa Clara Valley Brewing","Save the World Brewing Co.","Save The World Brewing Co.","Second Street Brewery","Silver Harbor Brewing Co.","Six Rivers Brewery","SKA Brewing","Skipping Rock Beer Co.","Slesar Bros. Brewing Co.","SLO Brewing Co. - San Luis Obispo","Sly Fox Brewhouse &amp; Eatery","Snake River Brewing Jackson","Snipes Mountain Brewing Co.","Snow Goose Restaurant","Social Kitchen &amp; Brewery","South Street Brewery","Southern Oregon And Pacific","Spanish Peaks Brewing Co.","Spellbound Brewing","Starr Hill Brewery","Steelhead Brewing Co. - Eugene","Stony Creek Brewery","Storm Peak Brewing Co.","Strange Brewing Co.","Stuft Pizza &amp; Brewing Co.","Sunriver Brewing","Sweetwater Tavern &amp; Brewery","Sycamore Brewing","Tabernash Brewing Co.","Tahoe Mountain Brewing Co. - Truckee","TAPS Fish House &amp; Brewery - Brea","TAPS Fish House &amp; Brewery - Corona","Temperance Beer Co.","Templin Family Brewing","Thai Me Up Brewery","The BottleHouse Brewery And Meadery","The Duck-Rabbit Craft Brewery","The Dudes' Brewing Co.","The Olde Mecklenburg Brewery","Third Street Aleworks","Thirsty Dog Grille and Brewery","Thomas Kemper Brewery","Thr3e Wise Men Brewing Co.","Three Creeks Brewing Co.","Three Weavers Brewing Co.","Tied House Cafe &amp; Brewery","Triple C Brewing","Triple Rock Brewery","Trumer Brauerei Berkeley","Two Rivers Brewing Co.","Two Rows Restaurant &amp; Brewery","Typhoon Brewery","Uncle Billy's Brew &amp; Que","Uncle Billy's Brew &amp; Que - Lake Travis","Union Colony Brewery","Upslope Brewing Co. - Flatiron Park","USA Cafe","Ventura Coast Brewing Co.","Vermont Pub And Brewery","Vintage Brewing Co.","Wagner Brewing Co.","Wagner Valley Brewing Co.","Walking Tree Brewery","Wasatch Brewery","Wayfinder Beer","West Brothers Brewery","West O Beer","Western Reserve Brewing","Westwood Brewing Co.","Wibby Brewing","Wicked Weed Brewing","Wild Duck Brewery &amp; Restaurant","Wild River Brewing","Wolf Pack Brewing Co.","Wren House Brewing Co.","Ybor City Brewing Co.","Yegua Creek Brewing Co.","Zuni Street Brewing Co.","(512) Brewing Co.","10 Barrel Brewing Co. - Bend Pub","105 West Brewing Co.","12Degree Brewing","14th Star Brewing Co.","1623 Brewing Co.","217 Brew Works","21st Amendment Brewery Cafe","23rd Street Brewery","4 Noses Brewing Co.","49th State Brewing Co.","5 Stones Artisan Brewery","515 Brewing Co.","5280 Roadhouse &amp; Brewery","54C2=B0 40' Br=ewing Co.","6 Bears &amp; A Goat Brewing Co.","6th and La Brea","75th Street Brewery Lawrence","Aardwolf Brewing Co.","Abita Brewing Co.","Acadian Brewing Co.","Accomplice Beer Co.","Adirondack Pub and Brewery","Aeronaut Brewing Co.","Against the Grain Brewery","Ahnapee Brewery","Aiken Brewing Co.","Airways Brewing Co.","Alameda Brewhouse","Alaro Craft Brewery","Alesong Brewing &amp; Blending - Tasting Room","Alesong Brewing &amp; Tasting Room","ALT Brew","Altitude Chophouse &amp; Brewery","Altstadt Brewery","Americas Brewing Co/Walter Paytons Roundhouse","Amicas Pizza, Microbrews and More","Appalachian Mountain Brewery - Boone","Arch Rock Brewing Co.","Argus Brewery","Arkane Aleworks","Arrow Lodge Brewing","Artifex Brewing Co.","Arts District Brewing Co.","Aspen Beer Co.","Aspen Brewing Co.","Aspetuck Brew Lab","Attic Brewing Co.","Augsburger Brewing Co.","Augusta Brewing Co.","Babe's Bar-B-Que &amp; Brewhouse","Back East Brewing","Back Street Brewery - Vista","Badger Hill Brewing","Bale Breaker Brewing Co.","Ballast Point Brewing Co. - Chicago","Ballast Point Brewing Co. - Home Brew Mart","Banded Oak Brewing Co.","Bankhead Brewing Co.","Barebottle Brewing Co.","Barley's Casino &amp; Brewing Co.","Barley's Casino &amp;amp; Brewing Co.","Barley Brothers Brewery &amp; Grill","Barley Brothers Brewery and Grill","Barley Brown's Brewpub","Barley Forge Brewing","Barley Naked Brewing Co.","Barrel Mountain Brewing","Barrel Theory Beer Co.","Barren Hill Tavern and Brewery","Bartlett Hall","Base Camp Brewing Co.","Batch Brewing Co.","Bavarian Brewing Co. Ltd","Baxter Brewing Co.","Beachwood Brewing","Beale's","Bear Chase Brewing Co.","Bear Republic Brewing Co. - Factory 5","Bear Republic Brewing Co. - Healdsburg","Bear Republic Brewing Co. - Production Facility","Bear Republic Brewing Co. Factory Five","Beartooth Brewing Co.","Beaver Island Brewing Co.","Beaver Street Brewery","Beaver Street Brewery &amp; Whistle Stop CafC3=A9","Begyle Brewing","Bell's Eccentric Cafe","Bellows Brew Crew (The)","Benchmark Brewing Co.","Benchtop Brewing Co.","Bent River Brewing Co.","Berghoff-Huber Brewing Co.","Bethlehem Brew Works","Bier Brewery","Bier Brewery and Taproom","Big aLICe Brewing Co.","Big Bear Brewing Co.","Big Bend Brewing Co.","Big Buck Brewery and Steakhouse, Auburn Hills","Big Grove Brewery","Big Horn Brewing Co. @ Humperdink's","Big Horn Brewing Co. @ The Ram 2","Big Horn Brewing Co./CB-Potts","Big Horn Brewing Co./RAM - Indianapolis","Big House Brewing Co.","Big Island Brewhaus","Big River Grille and Brewing","Big Rock Chop &amp; Brew House","Big Rock Chop House","Big Sexy Brewing Co.","Big Sky Brewing Co.","Big Time Brewery","Big Ugly Brewing","Bingo Beer Co.","Bitter End Brewery","Bitter Sisters Brewing Co.","BJ's Grill &amp; Brewery","BJ's Restaurant &amp; Brewery - Brea","BJ's Restaurant &amp; Brewery - Portland, OR","BJ's Restaurant &amp; Brewery - Reno","BJ's Restaurant &amp; Brewery - Reno, NV &amp; Chandler, AZ","BJ's Restaurant &amp; Brewery - Temple","BJ's Restaurant &amp;amp; Brewery - Woodland Hills","Black Forest Brew Haus LLC","Black Mountain Brewing Co.","Black Raven Brewing Co.","Black Star Co-op","Black Star Co-op Pub and Brewery","Blackberry Farm Brewery","Blind Owl Brewery","Blind Tiger Brewery &amp;amp; Restaurant","Blind Tiger Brewery Pub &amp; Play","Block 15","Block 15 Brewing Co.","Blue Corn Brewery","Blue Corn Caf=C3=A9 &amp; Brewery","Blue Corn CafC3=A9 &amp; Brewery","Blue Corn CafC3=A9 and Brewery","Blue Mountain Barrel House","Blue Mountain Barrel House and Organic Brewery","Blue Pants Brewery","Bluebird Brasserie","Bob's House of Brews","Bohannon Brewing Co.","Bohemian Brewery","Bombshell Beer Co.","Bond Brothers Beer Co.","Bonfire Brewing","Bootstrap Brewing","Boscos Little Rock Brewing Co.","Boston Beer Works","Bowigens Beer Co.","Bradley's Restaurant","Brasserie Monx Ltd","Bravus Brewing Co.","Breakside Brewery - Milwaukie Brewery","Breakside Brewery - Pub Brewery","Breakside Brewery + Beer Hall","Brew Bus Brewing","Brew Moon Enterprises Inc","Brew Moon Restaurant &amp; Microbrewery","Brew Moon South Shore Mall Ventures","BrewDog Brewing Co.","Brewer's Alley Restaurant &amp; Brewery","Brewer's Alley Restaurant and Brewery","Brewers Alley","Brewery Rickoli","Brewery Silvaticus","Brewery Vivant","Brewski Brewing Co.","Brickstone Brewery","Brickway Brewery &amp; Distillery","Bridger Brewing","Brimstone Brewing Co.","Broad Ripple Brewing Co.","Broadway Brewing","Broken Compass Brewing","Broken Plow Brewery","Broken Tooth Brewing","Bron Yr Aur Brewing Co.","Brothers Craft Brewing","BRU Handbuilt Ales &amp; Eats","Bruery (The)","Bruery Terreux","Bruz Beers","BTU Brasserie","Buckhead Brewery &amp; Grill (The)","Bull &amp;amp; Bush Brewery","Bull Island Brewing Co.","Bulldog Brewing Co.","Buoy Beer Co.","Burgeon Beer Co.","Burke-Gilman Brewing Co.","Burnside Brewing Co.","Butcherknife Brewing Co.","Butte Creek Brewing Co.","Buzzards Bay Brewing","C.B. &amp; Potts Restaurant &amp; Brewery - Westminster","C.B. &amp; Potts Restaurant &amp;amp; Brewery - Fort Collins","C.B. &amp; Potts Restaurant &amp;amp; Brewery - Westminster","C.B. &amp; Potts/Big Horn Brewing","C.B. Potts Restaurant &amp; Brewery (Fort Collins)","Cabin Boys Brewery","Caldera Brewing Co.","Calhoun's Restaurant &amp; Brewing Co. of Harrisonburg, VA","Cape May Brewing Co. - Rio Grande","Capitol City Brewing Co. - Capitol Hill","Captain Fatty's","Carbondale Craft Beer","Carolina Brewery - Chapel Hill","Carter's Brewing","Casa Agria Specialty Ales","Cascade Lakes Brewing Co.","CB &amp; Pott's Big Horn Brewery (Fort Collins)","CB &amp; Potts Big Horn Brewery (Denver Tec)","CB &amp; Potts Restaurant &amp; Brewery - Flatirons/Westminster","CB &amp; Potts Restaurant &amp; Brewery - Fort Collins","CB and Potts Restaurant and Brewery - Highlands Ranch","Cedar Creek Brewery","Cedar Springs Brewing Co.","Cellar West Artisan Ales","Cellar Works Brewing Co.","Cerebral Brewing","CervecerC3=ADa Colorado","Cervecerias La Cruda","Chainline Brewing Co.","Champion Brewing Co.","Charleville Vineyard &amp; Microbrewery","Charlie And Jake's Brewery","Cheluna Brewing Co.","Cherryland Brewpub","Chesapeake Bay Brewing Co.","Chicago Brewing Co. - Las Vegas","Chicago Brewing Co. - NV","Chihuahua Cerveza","Chilly Water Brewing Co.","choc Beer Co.","Choc Beer Co.","ChopHouse and Brewery-Cleveland","Christian Moerlein Brewing Co.","Chuckanut - South Nut","Chuckanut Brewery - South Nut","Chula Vista Brewery","Church Brew Works - Lawrenceville Brewery","Cinder Block Brewery","Circle Brewing Co.","Cisco Brewers","Cismontane Brewing Co.","City Brewing Co.","CJ's Brewery &amp; Grill","Clandestine Brewing","Cleveland Brewing Co.","CO-Brew","Coal Creek TAP","Coast Brewing Co./Beau Rivage Resort","Coast Range Brewing Co.","Coda Brewing Co.","CODA Brewing Co.","Coeur D'Alene Brewing Co.","Cogstone Brewing Co.","Colorado Brewery &amp; Trading Co.","Columbia Craft Brewing Co.","Columbia River Brewing Co.","Coors Archive Brewery","Copper Club Brewing Co.","Copperpoint Brewing Co.","Coppertail Brewing","Coronado Brewing Co.","Coronado Brewing Company Brewpub","Cowboy Restaurant &amp; Brewery (The)","Coyote Springs Brewing Co.","Crabtree Brewing Co.","Craft Brew Alliance - Omission","Craft Brew Alliance - Widmer","Crank Arm Brewing Co.","Cranker's Brewery","Crested Butte Brewery","Crooked Can Brewing Co.","Crossbuck Brewing","Currahee Brewing Co.","Custom Brewcrafters Inc","D. G. Yuengling &amp; Son Inc","D9 Brewing Co.","Dakota Brewing Co.","Dale Bros Brewery","Dale Bros. Brewery","Dark Horse Brewing Co.","Del Cielo Brewing Co.","Delafield Brewhaus","Dells Brewing Co.","Denver Beer Co. - Canworks","Deschutes Brewery Bend Public House","Desperate Times Brewing Co.","DESTIHL","DESTIHL - Champaign","Devil's Creek Brewery","Devil's Logic Brewing","Devils Backbone Brewing Co. - Outpost Production Facility","Diamond Bear Brewing Co.","Diebolt Brewing Co.","Dillon Dam Brewery","Dilworth Micro Brewery","Divine Barrel Brewing","Dixie Brewing Co. Inc","Dock Street Brewing Co.","DOG Brewing Co.","Dogwood Brewing Co.","Dornbusch Brewing Co.","Dos Desperados Brewery","Draught Works","Dry Dock Brewing Co.- North Dock","Dry Dock Brewing Co. - Production Facility","Dueces Wild Brewery","Earth - Bread + Brewery","East Brother Beer Co.","East Rock Brewing Co.","Echo Brewing Cask and Barrel","EdmundE2=80=99s Oast Brewing Co.","Ei8ht Ball Brewing","El Rancho Brewing","Elevator Brewing Co.","Elk Horn Brewery","Elk Mountain Brewing Co.","Elm City Brewing Co.","Emmett's Brewing Co.","Emmett's Brewing Co. - Wheaton","Emmett's Tavern &amp; Brewing Co. - Palatine","Enegren Brewing Co.","Engine House #9 Restaurant &amp; Brewery","Epic Brewing Co. LLC","Epidemic Ales","Equinox Brewing Co.","Erie Brewing Co.","Eris Brewery and Cider House","Estes Park Brewery","Etna Brewing Co.","Eureka Heights Brew Co.","Eureka Heights Brewing Co.","Evasion Brewing - Production Facility","Ex Novo Brewing Co.","Excel Brewing Co.","Exile Brewing","Faction Brewing Co.","Fair Winds Brewing Co.","Family Business Beer Co.","Fargo Brewing Co.","Fat Head's Brewery - Portland","Fat Head's Brewery &amp;amp; Saloon","Fate Brewing Co.","Fate Brewing Co. - Scottsdale, AZ","Feather Falls Brewing Co.","Ferment Brewing Co.","Fifty West Brewing Co.","FiftyFifty Brewing - Production Facility","Figueroa Mountain Brewing - Buellton","Figurehead Brewing Co.","Finkel &amp; Garf Brewing Co.","Firestone Walker Brewing Co. - The Propagator","Fitger's Brewhouse","Fitgers Brewhouse","Flix Brewhouse","Flix Brewhouse - Carmel","Flying Aces Brewing Co.","Folklore Brewing &amp; Meadery","Former Future Brewing Co.","Fort Collins Brewery","Fort Collins Brewery (The)","Fortside Brewing Co.","Founders Restaurant &amp; Brewing Co.","Four Day Ray Brewing","Four Seasons Brewing Co.","Fox River Brewing Co./Fratellos","Free Will Brewing Co.","Freetail Brewing Co. - Brewpub","Fremont Brewing Co.","Fretboard Brewing Co.","Friends Brewing Co.","Full Pint Brewing Co.","Fulton Beer","Funky Buddha Brewery","GameCraft Brewing","Garage Brewing Co.","Garage Brewing Co. &amp; Pizzeria","Gella's Diner &amp; Lb. Brewing Co.","General Lafayette Inn &amp; Brewery","Ghost River Brewing","Ghostfish Brewing Company","Gilbert Robinson Inc","Gilded Otter Brewing Co.","Glacier Brewhouse","Glasscock Brewing Co.","Gluek Brewing Co./Reflo Inc","Golden Road Brewing","Golden Road Brewing - Los Angeles","Golden Valley Brewery and Pub","Goldwater Brewing Co.","Good River Beer","Goose Island Brewpub","Gordon Biersch Brewery Restaurant - Annapolis","Gordon Biersch Brewery Restaurant - Navy Yard","Gordon Biersch Brewery Restaurant - Rockville, MD","Gordon Biersch Brewery Restaurant - Tysons Corner","Gordon Biersch Brewing Co.","Grand Teton Brewing","Granite City Food &amp; Brewery","Great American Restaurants - Sweetwater Tavern","Great American Restaurants - Sweetwater Tavern Centreville","Great Basin Brewing Co. - Production Facility","Great Basin Brewing Co. - Reno","Great Heights Brewing Co.","Greenview Brewing","Grist Brewing Co.","Grumpy Troll Brewery, Restaurant &amp; Pizzeria (The)","Gunnison Brewery","Gunwhale Ales","H.H. Hinder Brewing Co.","Hale's Ales Brewery &amp; Pub","Hale's Ales Brewery &amp;amp; Pub","Half Acre Beer Co.","Ham's Restaurant &amp; Brewhouse","Ham's Restaurant &amp;amp; Brewhouse","Hamm's Brewing Co.","Hangar 24 Craft Brewery","Harpoon Brewery","Haymarket Pub &amp; Brewery","Headlands Brewing Co.","Heartland Brewery","Heavy Seas Beer","Heileman Brewing Co.","Helltown Brewing","Henderson Brewing Co.","Henry Weinhard's Brewing","Heritage Hill Brewhouse &amp; Kitchen","Heroes Restaurant and Brewery","Hi-Wire Brewing - Big Top Production Facility","Hi-Wire Brewing - South Slope","Hibernia Brewing Co.","High Heel Brewing","High Hops Brewery","High Noon Saloon &amp; Brewery","High Point Brewing Corp","High Sierra Brewing Co.","Highland Brewing Co.","Highland Park Brewery","HofbrauHaus Brewery &amp; Biergarten at Station Casino","HofbrC3=A4uhaus Clevelan=d","Holidaily Brewing Co.","Holler Brewing Co.","Hook &amp; Ladder Brewing Co.","Hoppers Brooker Creek Grille &amp; Tap Room","Hoppers Grill &amp;amp; Brewing Co.","Hoppin' Frog Brewing","Hopping Gnome Brewing Co.","Hops Bistro &amp; Brewery","HOPS! Bistro &amp; Brewery","HopSaint Brewing Co.","Horse Thief Hollow","Horse Thief Hollow Brewery","Horse Thief Hollow Brewing Co.","Houston Brewery","Hubcap Brewery &amp;amp; Kitchen - Dallas","Humperdink's Restaurant and Brewery","Humperdinks Big Horn Brewing","Huss Brewing Co.","Hutton &amp; Smith Brewing Co.","Hutton &amp; Smith Brewing Co. - M. L. King","Hyde Park Brewing Co.","Idle Spur","Ignite Brewing Co.","IL Vicino Brewing Co.","Indeed Brewing Co.","Independent Brewing Co.","Insight Brewing Co.","Iowa Brewing Co.","Irish Times Pub &amp; Brewery","Iron Hill Brewery &amp; Restaurant - Phoenixville","Iron Hill Brewery &amp; Restaurant - West Chester","Iron Hill Brewery &amp; Restaurant - Wilmington","Iron Hill Brewery &amp; Restaurant #2","Iron Hill Brewery &amp;amp; Restaurant","Iron Hill Brewery &amp;amp; Restaurant - Lancaster","Iron Hill Restaurant and Brewery","Iron Triangle Brewing Co.","Ironworks Brewery &amp; Pub","Ironworks Pub","Irwin Brewing Co.","Issaquah Brewhouse","Issaquah Brewhouse - Rogue Ales","J.J. Bitting Brewing Co.","Jack's Abby Craft Lagers","Jack Pine Brewery","JAFB Wooster Brewery","Jaxon's Restaurant &amp; Brewing","Jekyll Brewing","Jessup Farm Barrel House","John Harvard's Brew House #2","John Harvard=E2=80=99s Brew House","John HarvardE2=80=99s Br=ew House","John HarvardE2=80=99s Brew =House","John HarvardE2=80=99s Brew Ho=use","Jones Street Brewery","Joyride Brewing Co.","Jump Cafe","Jupiter Brewpub","Kane Brewing Co.","Karbach Brewing Co.","Karl Strauss Brewing Co. - Anaheim","Karl Strauss Brewing Co. - Carlsbad","Karl Strauss Brewing Co. - Costa Mesa","Kern River Brewing","KettleHouse Brewing Co.","Kidders Brewpub","Kiitos Brewing","Kinetic Brewing Co.","Kohola Brewery","Kootenai River Brewing Co.","Kulshan Brewing Co.","La Conner Brewing Co.","La Reforma","LaConner Brewing Co.","Lake Tahoe Brewing Co. Inc","Lakes &amp;amp; Legends Brewing Co.","Lamplighter Brewing Co.","Lander Brewing Co.","Latitude 42=C2=B0 Brewing Co.","Latrobe Brewing Co.","LauderAle","Laughing Dog Brewing","Launch Pad Brewery","Lavery Brewing Co.","Lawrenceville Brewing Co.","Lawson's Finest Liquids","Lazarus Brewing Co.","LazyG Brewhouse","Leavenworth Brewery","Left Coast Brewing Co.","Leinenkugel Brewing Co.","Level Crossing Brewing Co.","Lexington Avenue Brewery","Lickinghole Creek Craft Brewery","Light the Lamp Brewery","Lind Brewing Co.","Liquid Mechanics Brewing Co.","Listermann Brewing Co.","Little Brother Brewing","Little City Brewing Co.","Little Machine","Live Oak Brewing Co.","Living the Dream Brewing Co.","Lock 27 Brewing","Lockport Brewery","Logsdon Organic Farm Brewery","Lompoc Brewing - The 5th Quadrant","Lone Pine Brewing Co.","Lone Pine Brewing Co. - Gorham Tasting Room","Lonetree Brewing Ltd","Los Gatos Brewing Co.","Lost Coast Brewery and CafC3=A9","Louisiana Jack's","Loveland Aleworks","Low Tide Brewing","LowDown Brewery + Kitchen","Lucky Envelope Brewing","Lucky Luke Brewing Co.","Lynnwood Brewing Concern","MacTarnahan's Brewing Co.","MacTarnahan's Portland Brewing Co.","MadeWest Brewing Co.","Madison River Brewing Co.","MadTree Brewing 2.0","Magnolia Gastropub &amp; Brewery","Main &amp; Six Brewing Co.","Mankato Brewery","MAP Brewing Co.","Maplewood Brewery","Marble Brewery - Mav Lab","Marble Brewery - Production","Market Garden Brewery - Production Brewery","Martha's Exchange","Mash House Restaurant &amp; Brewing Co. (The)","Maui Brewing Co. - Brewpub","Maui Brewing Co. - Production","Maui Brewing Co./Fish &amp; Game Rotisserie","Maui Brewing Co./Fish &amp;amp; Game Rotisserie","Mayflower Brewing Co.","Mazama Brewing Co.","McCoy's Public House and Brewkitchen","McFleshman's Brewing Co.","McHale's Brewhouse","Melvin Brewing - Thai Me Up","Melvin Brewing Co.","Metazoa Brewing Co. - Stringtown Production Facility","Metazoa Brewing Co. - Taproom","Midland Brewing Co.","Midnight Pig Beer","Midwest Coast Brewing Co.","Migration Brewing Co.","Migration Brewing Co. - Glisan","Mile High Brewing Co.","Mile Wide Beer Co.","Minocqua Brewing Co.","Mishawaka Brewing Co.","Mispillion River Brewing","Missoula Brewing Co.","Moab Brewery","Modist Brewing Co.","Moksa Brewing Co.","Monday Night Brewing","Monday Night Brewing - Garage","Monkey Paw Brewing","Monkey Paw Brewing Co.","Monkless Belgian Ales","Montgomery Brewing Co.","Moonraker Brewing Co. - Production Facility","Morgan Street Brewery","Mother's Brewing Co.","Mother Earth Brew Co.","Motorworks Brewing","MotoSonora Brewing Co.","Mountain Valley Brew Pub","Moylan's Brewery &amp; Restaurant","Mraz Brewing Co.","Munkle Brewing Co.","Mystery Brewing Co.","Napa Smith Brewery","Narragansett Brewing Co.","Nashville Brewing Co.","Native Brewing Co.","Nebraska Brewing Co. - Papillion","Nedloh Brewing Co.","Neshaminy Creek Brewing","Neuweiler Brewing Co. Inc","Nevin's Brewing Co.","New Bohemia Brewing Co.","New English Brewing Co.","New Glarus Brewing Co. - Hilltop","New Magnolia Brewing Co.","New Mexico Brewers Guild","New Planet Beer Co.","New Road Brew House","New Trail Brewing Co.","Night Shift Brewing","Nine-Band Brewing Co.","No-Li Brewhouse","Noble Beast Brewing Co.","NoDa Brewing Co. - Davidson","Noon Whistle Brewing Co.","Nor'wester Brewery","North By Northwest Restaurant and Brewery - Slaughter","North East Brewing Co. Inc","North Park Beer Co.","O'Connor Brewing Co.","O'so Brewing","O.H.S.O. Brewery - Gilbert","O.H.S.O. Brewery + Distillery","Oak Highlands Brewery","Oasis, Texas Brewing Co.","OB Brewery","Ocelot Brewing","Ocelot Brewing Co.","Odd13 Brewing","Off Color Brewing","Offshore Ale Co.","Oggi's Sports Brewhouse Pizza","Ohana Brewing Co.","Old Bust Head Brewing Co.","Old Schoolhouse Brewery","Olde Auburn Ale House","Olde Peninsula Brewpub &amp; Restaurant","Omission Brewing Co.","On Tap Bistro &amp; Brewery","On Tour Brewing Co.","One Barrel Brewing Co.","Oregon Ale And Beer Co.","Oregon City Brewing Co.","Ornery Beer Co.","Orpheus Brewing","Ortlieb's Brewery &amp; Grille","Otter Creek Brewing Co.","Otto Brothers Brewing Co.","Our Mutual Friend Malt &amp; Brew","Out of Bounds Brewing Co.","Outer Banks Brewing Co.","P.H. Woods","P.H. Woods Restaurant &amp; Brewery","Pacific Beach Brewhouse","Paducah Beer Werks","Pagosa Brewing Co.","Panther Island Brewing","Paradigm Shift Brewing","Parish Brewing Co.","Park Slope Brewing Co.","Pedal Haus Brewery","Pelican Brewing Co. - Tillamook","Pelican Pub &amp;amp; Brewery","Perrin Brewing Co.","Perry Street Brewing","Phantom Ales","Philipsburg Brewing Co. - The Vault","Pig's Eye Brewing Co.","Pig's Eye Brewing Co. LLC","Pinellas Ale Works","Piney River Brewing Co.","Pinthouse Pizza","Pinthouse Pizza - South Lamar","Pinthouse Pizza Craft Brewpub","Pisgah Brewing Co.","Pizza Port - Bressi Ranch","Pizza Port Bressi Ranch","Platform Beer Co.","Platt Park Brewing Co.","Pocock Brewing Co.","Pond Farm Brewing Co.","Precarious Beer Project - Precarious Beer Hall","Precarious Beer Project E2=80=93 Beer Hall","Primitive Beer","Printer's Ale Manufacturing Co.","Prison City Brewing","Prodigal Brewery (The)","Proper Brewing Co.","Prost Brewing","Prost Brewing Co.","PT's Brewing Co.","Public Coast Brewing Company","Pug Ryan's Brewing Co.","Pug Ryans Brewery","Pump House Restaurant &amp; Brewery","Pure Project","Quincy Ships Brewing Co.","Rabbit Hole Brewing","Rahr &amp; Sons Brewing","Raised Grain Brewing Co.","Raleigh Brewing Co.","RAM Restaurant &amp; Brewery - Schaumburg","Ram Restaurant &amp; Brewery - Seattle","RAM Restaurant &amp; Brewery - Seattle","Ram Restaurant &amp; Brewery (2)","Ram Restaurant and Brewery - Illinois","Ram Restaurant and Brewery - Indianapolis","RAM Restaurant and Brewery - Lakewood","RAM/Big Horn Brewery - Seattle","RAM/Big Horn Brewery - Wheeling","Random Row Brewing Co.","Ratio Beerworks","Red Ass Brewing Co.","Red Cypress Brewery","Red Lodge Ales / H &amp; H Brewing Co.","Red Rock Brewing Co. - Production","Red Star Brewery &amp; Grille","Redhook Ales - Portsmouth","Redrock Brewery","Refuge Brewery","Renegade Brewing Co.","Resident Brewing Co.","Reuben's Brews - Production Brewery","Revelation Craft Brewing Co.","Revolver Brewing","Rhinegeist - Innovation Brewery","Rhinegeist Brewing","Rhomberg Brewing Co.","Rip Current Brewing","River Bluff Brewing","River Dog Brewing Co.","River Horse Brewing Co.","River Market Brewing Co.","Rivertowne Pour House","RJ Rockers Brewing Co.","Roadhouse Brewing Co.","Roak Brewing Co.","Rochester Mills Beer Co.","Rock Bottom Arlington","Rock Bottom Brewery - Arlington","Rock Bottom Brewery - Bellevue","Rock Bottom Brewery - Campbell","Rock Bottom Brewery - Campbell, CA","Rock Bottom Brewery - Denver","Rock Bottom Brewery - Des Moines","Rock Bottom Brewery - La Jolla","Rock Bottom Brewery - Milwaukee","Rock Bottom Brewery - Orland Park","Rock Bottom Brewery - Pittsburgh","Rock Bottom Brewery - Scottsdale","Rock Bottom Brewery - Seattle","Rock Bottom King of Prussia","Rockford Brewing Co. - Rockford, Michigan","Rockwell Beer Co.","Rocky River Brewing Co. - Tennessee","Rogue Ales Issaquah Brewhouse","Rohrbach Brewing Co.","Roundhouse Brewery","Royal Docks Brewhouse and Cannery","Royal Oak Brewery (The)","Rubicon Brewing Company Pub","Russian River Brewing Co. - Production","Russian River Brewing Co. Dry Creek Valley","Sacramento Brewing Co.","Sam Adams Brew House","Samuel Adams - Cincinnati Brewery","Samuel Adams Brewing Co.","San Juan Island Brewing Co.","Sanctum Brewing Co.","SandLot","SandLot Brewery at Coors Field","Sanford Brewing Co.","Sanitas Brewing Co.","Santa Maria Brewing Co.","Saranac/F.X. Matt Brewing Co.","Sarasota Brewing Co.","Schlafly Beer/The Saint Louis Brewery","Scorched Earth Brewing Co.","Scratch Brewing Co.","Sea Dog Brewing Co. (No 2)","Seagram Beverages","Seedstock Brewery","Seismic Brewing Co.","Shades Brewing","Shades of Pale Brewery","Shine Brewing Co.","Shmaltz Brewing Co.","Side Project Brewing","Silver Branch Brewing Co.","Silver City Restaurant &amp; Brewery","SingleSpeed Brewing","Six Ten Brewing","Slack Tide Brewing Co.","Sleeping Giant Brewing Co.","Sleeping Lady Brewing Co/Snow Goose Restaurant","SLO Brew","SLO Brewing Co. - Paso Robles","Smartmouth Brewing Co.","Smog City Brewing","Smog City Brewing Co.","Smog City Brewing Wood Cellar","Snake River Brewing of Lander","Snow Goose Restaurant and Sleeping Lady Brewing Co.","Sockeye Brewing","Solid Rock Brewing","Sophisticated Otter Brewing Co.","Sound Brewery","South Park Brewing - CA","Spangalang Brewery","Speakeasy Ales &amp; Lagers","Spearfish Brewing Co.","Spencer Devon Brewing","Spilled Grain Brewhouse","SpindleTap Brewery","Sports City CafC3=A9= &amp; Brewery","Spring Street Brewing Co.","Squatters and Wasatch Beers","Squatters Beer","Squatters Craft Beers","St. Florian's Brewery","Stadium Pizza Main St.","Standard Deviant Brewing","Stanislaus Area Association","Stark Mill Brewery","Starr Brothers Brewing Co.","Starr Hill Pilot Brewery &amp;amp; Side Stage","Station 26 Brewing Co.","Steelhead Brewery - Irvine","Steelhead Brewing Co. - Burlingame","Stickman Brews","StillFire Brewing","Stillmank Brewing Co.","StormBreaker Brewing","Stoudts Brewing Co.","Studio Brew","Sullivan's Black Forest Brew Haus &amp; Grill","Sun King Brewery","Sun King Brewing","Sun King Brewing - Fishers Small Batch","SunUp Brewing Co.","Susquehanna Brewing Co.","Swamp Rabbit Brewery &amp; Taproom","Swashbuckler Brewing Co.","T-Bonz Homegrown Ales","Taft's Ale House","TaftE2=80=99s Brewing Co.","Tampa Bay Brewing Co.","Tampa Bay Brewing Co. - Ybor City","Tap &amp;amp; Growler","Tap It Brewing Co.","Tapistry Brewing Co.","TAPS Brewery &amp; Barrel Room","TAPS Brewery &amp;amp; Barrel Room","TAPS Fish House &amp;amp; Brewery","TAPS Fish House and Brewery","Taxman Brewing Co.","Temblor Brewing Co.","Ten Pin Brewing Co.","Tenaya Creek","Tenaya Creek Brewery","Tequesta Brewing Co.","Territorial Brewing Co.","Texas Beer Co.","The Beer Co.","The Brew Kettle Taproom and Smokehouse","The Chamber By Wooden Robot Brewery","The Civil Life Brewing Co.","The Northampton Brewery","The Packinghouse Brewing Co.","The Royal Oak Brewery","The Sandlot","The Sandlot Brewery at Coors Field","The Sycamore Brewing Cannery","The Tap Beer Co.","The Tap Brewery","The Vanguard Brewpub &amp; Distillery","The Wrecking Bar Brewpub","Thirsty Monk Pub Brewery","Thirsty Planet Brewing","Thomas Creek Brewery","Thornapple Brewing Co.","Thousand Oaks Brewing Co.","Three Creeks Production","Three Floyds Brewing Co. LLC","Three Magnets Brewing","Three Mile Brewing Co.","Three Needs Brewery","Three Notch'd Brewing Co.","Thunderhawk Alements","Thunderhead Brewing Co.","Tied House Cafe &amp; Brewery - Mtn View","Tin Roof Brewing Co.","Toltec Brewing Co.","Topa Topa Brewing Co.","Torched Hop Brewing Co.","Town Brewing Co.","Track 7 Brewing Co. - Natomas","Trap Rock Restaurant and Brewery","TrC3=B6egs Brewi=ng Co.","Tri-City Brewing Co.","Tribus Beer Co.","Tribute Brewing Co.","Trim Tab Brewing","Trinity Brewing","Triple C Brewing Co.","Triton Brewing Co.","Triumph Brewing Co. of Philadelphia","Triumph Brewing Co. of Princeton","Trout Brook Brewing Co.","Trout Creek Brewing Co.","True Anomaly Brewing Co.","True Vine Brewing Co.","Trustworthy Brewing Co.","Tumbleroot Brewery and Distillery","Turtle Mountain Brewing Co.","Twin Peaks Brewery","Twin Sisters Brewing Co.","Two Beers Brewing Co.","Two Kilts Brewing","Two Roads Brewing Co.","Two Roots Brewing Co.","Union Craft Brewing Co.","Unique Beers","Unlikely Cowboy Restaurant &amp; Brewery (The)","Unsung Brewing Co.","Urban Roots Brewing &amp;amp; Smokehouse","Urban South Brewery - New Orleans","URBN St. Brewing Co.","Ursa Minor Brewing","Utah Brewers Co-op","Utepils Brewing Co.","Vail Brewing Co. - Vail Village Pilot","Val Blatz Brewery","Vallensons' Brewing Co.","Valley Brewing Co.","Valley Forge Brewing Co.","Verboten Brewing","Vertigo Brewing","Village Brewery","Village Idiot Brewing Co.","Vine Street Pub &amp; Brewery","Vino's Pizza*Pub*Brewery","Virginia Brewing Co.","von Trapp Brewing","Voodoo Brewery","Wachusett Brewing Co.","Waconia Brewing Co.","Walking Man Brewing","Wallenpaupack Brewing Co.","Wasatch Brew Pub","Watch City Brewing Co.","Watson Brothers Brewhouse","Weasel Boy Brewing Co.","Wedge Brewing Co.","Weeping Radish Restaurant","Weinkeller Brewery","Werk Force Brewing Co.","West Bros Brewery","West Kill Brewing","Westbound &amp; Down Brewing Co.","White Rock Alehouse &amp; Brewery","Wicked Weed - Funk House","Wicked Weed Brewing - Asheville","Wicked Weed Brewing Funkatorium","Widmer Brothers Brewing","Wiens Brewing Co./Wiens Family Cellars","Wild Barrel Brewing Co.","Wild Boar Brewing Co.","Wild Ride Brewing","Wild Wolf Brewing Co.","William S Newman Brewing Co.","Wilmington Brewing Co.","Wind River Brewing Co.","Wiseacre Brewing Co.","Wit's End Brewing Co.","Wolf's Ridge Brewing","Wolf's Ridge Brewing - Production Operations","Wolf Tongue Brewery","Wooden Robot","Wormtown Brewery","Wormtown Brewing Co.","Worthy Brewing Co.","Wynwood Brewing Co.","Yak and Yeti Brewpub","Yakima Brewing","Yeast of Eden","Yellow Springs Brewery","Zele International","Zipline Brewing Co.","Zoiglhaus Brewing Co.","ZwanzigZ Brewing"],[60,56,54,39,32,32,32,28,26,26,25,25,24,23,22,21,21,21,20,19,19,18,17,17,17,17,17,17,16,16,15,15,15,15,15,15,15,14,14,14,14,14,14,14,13,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>brewery<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>category</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-55b5ed72fee4af7ed9d0" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-55b5ed72fee4af7ed9d0">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515"],["Classic Irish-Style Dry Stout","American-Style Pale Ale","Bock","Robust Porter","Imperial Stout","German-Style Pilsener","German-Style Wheat Ale","American-Style Amber Lager","Brown Porter","Irish-Style Red Ale","American-Style Brown Ale","Golden or Blonde Ale","Vienna-Style Lager","American-Style India Pale Ale","Oatmeal Stout","Barley Wine-Style Ale","Rye Beer","Specialty Beer","Experimental Beer","Scottish-Style Ale","English-Style Summer Ale","American-Style Wheat Beer","English-Style Brown Ale","American-Style Strong Pale Ale","English-Style India Pale Ale","American-Style Stout","Herb and Spice Beer","American-Style Amber/Red Ale","Wood- and Barrel-Aged Beer","American-Style Dark Lager","American-Style Specialty Lager","Belgian- and French-Style Ale","Belgian-Style Abbey Ale","Belgian-Style Witbier","German-Style Schwarzbier","Proam","Sweet Stout","Wood- and Barrel-Aged Strong Beer","Baltic-Style Porter","Old Ale or Strong Ale","Belgian-Style Lambic or Sour Ale","Belgian-Style Strong Specialty Ale","Dortmunder or German-Style Oktoberfest","Wood- and Barrel-Aged Sour Beer","Aged Beer","American-Style Sour Ale","Bohemian Style Pilsener","Munich-Style Helles","Other Strong Beer","American-Style Light Lager","Bohemian-Style Pilsener","Classic English Style Pale Ale","Imperial Red Ale","American-Style Lager","Classic English-Style Pale Ale","Ordinary or Special Bitter","Scotch Ale","Wood- and Barrel-Aged Strong Stout","Imperial India Pale Ale","South German-Style Hefeweizen","Strong Scotch Ale","Extra Special Bitter","German-Style Altbier","Chocolate Beer","Coffee Beer","Session Beer","Smoke Beer","American-Belgo-Style Ale","American-Style Black Ale","European-Style Pilsener","Kellerbier or Zwickelbier","Fruit Wheat Beer","Gluten-Free Beer","American-Style Premium Lager","German-Style Doppelbock or Eisbock","Specialty Honey Beer","Coffee Flavored Beer","English-Style Mild Ale","Field Beer","Fruit Beer","German-Style Sour Ale","Pro-Am Competition","Smoke-Flavored Beer","American-Style Fruit Beer","American-Style Cream Ale","Extra Special Bitter or Strong Bitter","French- and Belgian-Style Saison","Munchner-Style Helles","American-Style or International-Style Pilsener","American-Style Wheat Beer With Yeast","Belgian-Style Sour Ale","Bitter","Foreign Style Stout","German-Style Kolsch / Koln-Style Kolsch","Honey Beer","India Pale Ale","Sweet Stout or Cream Stout","Belgian-Style Blonde Ale or Pale Ale","Belgian-Style Fruit Beer","Belgian-Style Tripel","Brett Beer","German-Style Maerzen","Historical Beer","Other Belgian-Style Ale","Other Strong Ale or Lager","Session India Pale Ale","Classic Saison","Dark Lager","European-Style Dark / Munchner Dunkel","European-Style Dunkel","American-Style Amber / Red Ale","Imperial or Double India Pale Ale","Experimental Beer (Lager or Ale)","Export Stout","Foreign-Style Stout","German-Style Doppelbock","Golden Ale / Canadian Style Ale","International-Style Pilsener","Stouts","American-Style Hefeweizen","American Lager","Barley Wine","Chili Beer","Coffee Stout or Porter","Fruited Wood- and Barrel-Aged Sour Beer","German-Style Maerzen / Oktoberfest","German-Style MC3=A4rzen","Imperial or Double Red Ale","Old Ale/Strong Ale","Porters","Specialty Saison","Alts","American Light Lager","German-Style KC3=B6lsch","German-Style Koelsch","Gluten Free Beer","Non-Alcoholic (Beer) Malt Beverage","Smoke Flavored Beers","Specialty","American-Style Lager or Light Lager","American Premium Lager","British Stout","Cellar or Unfiltered Beer","European Pilsner","Foreign (Export)-Style Stout","Fruit And Vegetable Beer","German-Style Brown Ale / Dusseldorf-Style Altbier","German-Style Strong Bock","International-Style Pale Ale","Light Lager","Mixed-Culture Brett Beer","American-Style Cream Ale or Lager","American Malt Liquor","American Wheat Ale Or Lager","Barley Wines","Bocks","Double Red Ale","Fruited American-Style Sour Ale","Marzen / Oktoberfeset","Pale Ales","Pumpkin/Squash Beer or Pumpkin Spice Beer","Scottish Style Ale","Strong Ales","American-Style \"Light\" Amber Lager","American-Style Specialty Lager or Cream Ale or Lager","American Dark Lager","American Lagers","American Pale Ale","English Style Brown Ale","German Style Schwarzbier","Herb and Spice or Chocolate Beer","Juicy or Hazy Pale Ale","Pumpkin Beer","Raspberry Beers","Smoke-Flavored Beers","Specialty Honey Lager or Ale","Strong Ale","Vienna Style Lager","Amber Ales","Amber Lager","American-Style Brett Ale","American-Style Brett Beer","American-Style Lager or Premium Lager","American-Style Lager, Light Lager or Premium Lager","American Amber Ale","American Light Lagers","Australian-Style Pale Ale","Barley Wine Style Ale","Belgian- &amp; French-Style Specialty Ales","Belgian-Style Ales","Blonde Ale","Brown Ales","Double Hoppy Red Ale","English Brown Ale","English Style Bitter","European Style Pilsener","Field Beer or Pumpkin Beer","Fresh or Wet Hop Ale","Fruit, Vegetable","Fruit, Vegetables","Herb / Spice Beers","India Pale Ales","Indigenous Beer","Juicy or Hazy India Pale Ale","Kellerbier/Zwickelbier","Kolsch","Munchener Helles","South German-Style Hefeweizen/Hefeweissbier","Specialty Stouts","Wheat Beers","(Extra Special) Strong Bitter","Aged Beer (Ale or Lager)","Amber/Viennas","American-Style Wheat Ale or Lager","American Brown Ale","American Brown Ales","American Lager/Ale or Cream Ale","American Light Pilsners","American Premium Lagers","American Wheats","Australian-Style or International-Style Pale Ale","Belgian-Style White (or Wit) / Belgian-Style Wheat","Belgian-Style White (or Wit)/Belgian-Style","Belgian Style Ale","Belgian Style Ales","Belgian Style Specialty Ales","Belgian Style Strong Specialty Ale","Berliner-Style Weisse","Bitter or Pale Mild Ale","Blond/Golden Ales","Collab","Contemporary Gose","Doppelbock","Dry Stouts","English Style (Extra Special) Strong Bitter","French- and Belgian Style Saison","Fresh Hop Ale","Munchener Helles And Export","Porter","Scottish Ales","Smoked Beer","Specialty Beers","Wood- and Barrel-aged Beer","American-Style Amber Ale","American-Style Wheat Ale Or Lager","American-Style Wheat Beer with Yeast","American Lager-Ales","American Specialty Lager","Belgian-and French-Style Ale","Belgian-Style Dubbel or Quadrupel","Belgian and French-Style Ale","Cream Ales","English-Style Bitter","European-Style Dark/Muchner Dunkel","Fresh Hop Beer","German-Style Brown Ale/Dusseldorf-Style","German-Style K=C3=B6lsch","German-Style MC3=A4rzen/Oktoberfest","German Style Wheat Ale","Herb and Spice Beers","Herb, Spice","Juicy or Hazy Imperial India Pale Ale","Juicy or Hazy Strong Pale Ale","Maerzen/Oktoberfests","Marzen/Oktoberfest","Munchner Helles","Other Strong Ales &amp; Lagers","Specialty Honey Ales Or Lagers","Traditional Bitter","Traditional English Style Bitter","Ale, American Brown Ale","Ale, Barley Wine","Ale, Blonde Ale","Ale, Dry Stout","Ale, India Pale Ale","Ale, Porter","Ale, Scottish Ale","Amber Ale/American Pale Ales","America-Style Light Lager","American-Belgo Style Ale","American-Style India Black Ale","American-Style Lager or American-Style Malt Liquor","American-Style Lager or American-Style Pilsener","American-Style Lager or Ice Lager or Malt Liquor","American-Style Lager or Malt Liquor","American-Style Lager/Ale or Cream","American-Style Lager/Ale or Cream Ale","American-Style Lager/Ale Or Cream Ale","American-Style Light Lager or German-Style Light Lager","American-Style or German-Style Sour Ale","American-Style Pilsener","American-Style Pilsener or International-Style Pilsener","American-Style Sour Ale or German-Style Sour Ale","American Amber Lager","American Cream Ale or Lager","American Dry Lager","American Dry Lagers","American Lager-Ale/Cream Ale","American Lager / Ale or Cream Ale","American Lager / Ale Or Cream Ale","American Lager/Ale Cream Ale","American Pilsener","American Pilseners","American Pilsners","American Premium Dark Pilseners","Belgian- &amp; French-Style Ale","Belgian-Style Ale","Belgian-Style Dark Strong Ale or Belgian-Style Quadrupel","Belgian-Style Dubbel or Quadruple","Belgian-Style Pale Strong Ale","Belgian-Style Specialty Ale","Belgian and French-Style Specialty Ales","Belgian Style Abbey Ale","Blonde/Golden Ales","Bock Beers","Bocks/Dopplebocks","Chocolate / Cocoa Flavored Beers","Continental Pilsners","Dortmunder / European Style Export","Dry Beers","Drys","English-Style (Extra Special) Strong Bitter","English-Style or International-Style Pale Ale","English Ale","English Mild or Bitter","English Old Ale / English &amp; American Strong Ales","English Old Ale/Strong Ale","English Style Dark Mild Ale or English-Style Brown Ale","English Style Strong Bitter","European-Style Dark Lager/Munich-Style Dunkel","European Classic Pilseners","Foreign (Export) Style Stout","French- Belgian-Style Saison","French-and Belgian-Style Saison","French-Belgian Style Saison","Fruit Beer or Field Beer","Fruit Beer or Vegetable Beer","Fruit or Vegetable Beer","Garden Beer (Fruit &amp; Vegetable)","German-Style Brown / Dusseldorf-Style Altbier","German-Style Hefeweizen","German Style Doppelbock or Eisbock","German Style M=C3=A4rzen","German Style Pilsener","German Wheat Ale","German Wheats","Golden Ale/Canadian Style Ale","Gose","Herb, Spices","Herb/Spice Beers","International-Style Dark Lager","International Dark Lager","International Pale Ale","International Pilsener","Lager, Amber Lager","Lager, American Malt Liquor","Lager, American Premium Lager","Malt Liquor","Malt Liquors","Mixed, American Wheat","Mixed, Dusseldorf Altbier","Mixed, European Pilsener","Mixed, German Wheat","Mixed, Herb, Spice","Munchner Helles &amp; Dortmunder X","Munich-Style Dunkel or European-Style Dark Lager","Munich Style Helles","Non-Alcoholic Malt Beverage","Nonalcoholic Malt Beverages","Other Strong Ales","Pumpkin Spice Beer","Smoke Flavored","South German Style Hefeweizen/Hefeweissbier","Specialty Berliner-Style Weisse","Specialty Berliner Weisse","Specialty Honey Lagers or Ales","Stout","Vienna/Marzen/Octoberfest Beer","Wood- and Barrel-aged Strong Beer","Ale, American Pale/Amber Ale","Ale, Classic English Pale Ale","Ale, English Brown Ale","Ale, Strong Ale","Ales","American-Style Amber Lager or Dark Lager","American-Style Lager / Ale Or Cream Ale","American Cream Ales","American Lager / Ale / Cream Ale","American Malt Liquors","American Pale/Amber Ale","American Premium Dark Lagers","American Premium Dark Pilsners","American Premium Pilseners","American Premium Pilsners","Belgian-Style Strong Specialty Ales","Belgian &amp; French Style Specialty Ales","Chocolate / Cocoa Flavored Beer","Classic Pale Ales","Contemporary American-Style Pilsener","Continental Amber Lagers","Doppelbocks","Dry Stout","Dusseldorf Style Altbier","Dusseldorf Style Altbiers","Emerging India Pale Ale","English Old Ale / English Strong Ale","English Style Mild Ale","English Style Old Ale / Strong Ale","European-Style Dark / Munchner","European Ambers","European Dark/Munchner Dunkels","European Darks","European Style Dark / Munchener Dunkel","European Style Dark/Munchener Dunkel","European Style Dunkel","Experimental Beer (Lager Or Ale)","Experimental India Pale Ale","Export/Specials","Fruit Beers (other than raspberry)","German-Style Dark Lager","German-Style K=C3=B6lsch/K=C3=B6ln-Style K=C3=B6lsch","German-Style KC3==B6lsch","German Dark Lager","German Style Altbier","German Style Brown / Dusseldorf Style Altbier","German Style Brown Ale/Dusseldorf Style Alt","German Style K=C3=B6lsch","German Style MC3=A4rzen","German Style Strong Bock","German Wheat","India Pale Lager or Malt Liquor","Indigenous/Regional Beer","Juicy or Hazy Imperial or Double India Pale Ale","Lager, American Dry Lager","Lager, American Lager","Lager, American Light Lager","Lager, Bock","Lager, Dark Lager","Lager, Munchner Helles &amp; Dortmunder Export","Leipzig-Style Gose or Contemporary Gose","Mixed, American Lager-Ale/Cream Ale","Mixed, Fruit, Vegetable","Mixed, Non-Alcoholic","Mixed, Smoke Flavored","Non-Alcohol Beer or Alcohol-Free Beer","Non Alcoholic Malt Beverages","Old Ale or Strong Ale or Barley Wine-Style Ale","Other Low Strength Ale or Lager","Pilsener","Pro-Am","Rauch","Scotch Ales","Session Beer or Non-Alcohol Beer","South German Style Hefeweizen","Strong Red Ale","Traditional Bitters","Vienna Lager","Wood-and Barrel-Aged Beer","Ale, Sweet Stout","Ale, Traditional Bitter","American-Style Black Ale or American-Style Stout","American-Style Wheat Wine Ale","American Wheat","Beer With Yeast","Belgian-Style Ale or French-Style Ale","Belgian-Style Dubbel","Belgian-Style Specialty Ales","Belgian-Style White (or Wit)/Belgian-Style Wheat","Classic English Pale Ale","Dopplebock","Dortmund/Export/Specials","Dortmunder/European Style Export or German-Style Oktoberfest/Wiesen (Meadow)","Dusseldorf Altbier","English-Style Dark Mild Ale or Brown Ale","English Syle Brown Ale","European-Style Dark/M=C3=BCnchner Dunkel","European-Style Dark/MC3=BCnchn=er Dunkel","European-Style Dark/MC3=BCnchner Dunkel","European Style Dark/M=C3=BCnchner Dunkel","French &amp; Belgian-Style Saison","German-Style KC3=B6lsch/K=C3=B6ln-=Style K=C3=B6lsch","German-Style KC3=B6lsch/K=C3=B6ln-Style K=C3=B6l=sch","German-Style M=C3=A4rzen/Oktoberfest","German-Style MC3==A4rzen","German-Style MC3=A4=rzen/Oktoberfest","German-Style MC3=A4r=zen","German-Style MC3=A4rzen/Oktoberfes=t","German-Style MC3=AFrzen / Oktoberfest","German-Style MC3=AFrzen /= Oktoberfest","German Style Brown Ale/D=C3=BCsseldorf Style Altbier","German Style Brown Ale/DC3=BCsseldorf Style Altbier","German Style Brown/Dusseldorf Style Alt","German Style KC3=B6lsch/K==C3=B6ln Style K=C3=B6lsch","German Style KC3=B6lsch/K=C3=B6ln Style K=C3=B6lsch","German Style KC3=B6lsch/K=C3=B6ln Style K=C3=B6lsch=","M=C3=BCnchner (Munich) Style Helles","MC3=BCnchner (Munich) Style Hell=es","Mixed, Specialty","Muenchers","Munchner Helles And Export","Old Ale / Strong Ale","Other Strong Ales &amp;amp; Lagers","Out of Category =E2=80=93 Traditionally Brewed Beer","Out of Category E2=80=93 Traditionally B=rewed Beer","Out of Category E2=80=93 Traditionally Bre=wed Beer","Out of Category E2=80=93 Traditionally Brewed B=eer","Out of Category E2=80=93 Traditionally Brewed Beer&lt;=/","Pumpkin/Squash Beer","Scottish-Style Ales","Scottish Ale","Specialty Ales","Specialty Honey Ales Or Lager","Vienna","Vienna Style Lagers","Weizen"],[62,61,61,61,60,59,56,55,55,53,51,49,49,48,48,47,47,47,45,45,44,43,43,42,41,36,36,35,35,34,34,34,34,34,34,34,33,33,32,32,31,31,31,31,30,30,30,30,30,29,29,29,29,28,28,28,28,28,27,27,27,26,26,25,25,25,25,24,24,24,24,23,23,22,22,22,21,21,21,21,21,21,21,20,19,19,18,18,17,17,17,16,16,16,16,16,16,15,15,15,15,15,15,15,15,15,14,14,14,14,13,13,12,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>category<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>city</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<div id="htmlwidget-f9e370f92a73ccd6e8ad" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f9e370f92a73ccd6e8ad">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501","502","503","504","505","506","507","508","509","510","511","512","513","514","515","516","517","518","519","520","521","522","523","524","525","526","527","528","529","530","531","532","533","534","535","536","537","538","539","540","541","542","543","544","545","546","547","548","549","550","551","552","553","554","555","556","557","558","559","560","561","562","563","564","565","566","567","568","569","570","571","572","573","574","575","576","577","578","579","580","581","582","583","584","585","586","587","588","589","590","591","592","593","594","595","596","597","598","599","600","601","602","603","604","605","606","607","608","609","610","611","612","613","614","615","616","617","618","619","620","621","622","623","624","625","626","627","628","629","630","631","632","633","634","635","636","637","638","639","640","641","642","643","644","645","646","647","648","649","650","651","652","653","654","655","656","657","658","659","660","661","662","663","664","665","666","667","668","669","670","671","672","673","674","675","676","677","678","679","680","681","682","683","684","685","686","687","688","689","690","691","692","693","694","695","696","697","698","699","700","701","702","703","704","705","706","707","708","709","710","711","712","713","714","715","716","717","718","719","720","721","722","723","724","725","726","727","728","729","730","731","732","733","734","735","736","737","738","739","740","741","742","743","744","745","746","747","748","749","750","751","752","753","754","755","756","757","758","759","760","761","762","763","764","765","766","767","768","769","770","771","772","773","774","775","776","777","778","779","780","781","782","783","784","785","786","787","788","789","790","791","792","793","794","795","796","797","798","799","800","801","802","803"],["Denver","Portland","Milwaukee","San Diego","Seattle","Chicago","Fort Collins","San Antonio","Golden","Salt Lake City","Bend","Boulder","Saint Louis","Austin","Albuquerque","Juneau","Carlsbad","Indianapolis","Paso Robles","Boston","San Francisco","Cleveland","Longmont","Jackson","Durango","Houston","Bellingham","Dallas","Kansas City","Pacific City","Pittsburgh","Santa Rosa","Eugene","Las Vegas","New Glarus","Larkspur","Minneapolis","Madison","Colorado Springs","Santa Cruz","Atlanta","Baker City","Louisville","Solana Beach","Adamstown","Aurora","Philadelphia","San Marcos","Billings","Charlotte","Chico","Los Angeles","Roseland","Auburn","Baltimore","Frederick","Rochester","Wilmington","Healdsburg","Hood River","Long Beach","Newport","Anchorage","Cincinnati","Fogelsville","Santa Fe","Berkeley","Middleton","Tampa","Brea","Broomfield","Buellton","Chattanooga","Nashville","New York","Sacramento","San Clemente","Springfield","Tempe","St. Louis","Chippewa Falls","Fort Worth","Ft. Bragg","Huntington Beach","North Olmsted","Santa Barbara","Scottsdale","Woodridge","Arlington","Asheville","Cambridge","Davis","Idaho Springs","Lexington","Media","Raleigh","Tucson","Ashburn","Boonville","Centreville","Charlottesville","Dillon","Grand Rapids","Greeley","Loveland","Oakland","Prescott","Topeka","Alexandria","Anaheim","Brooklyn","Castle Rock","Corona","Detroit","Flagstaff","Flossmoor","Glenwood Springs","Harrisburg","Saint Paul","Southampton","Temecula","Akron","Antioch","Blanco","Blue Lake","Columbia","Elk Grove","Farmville","Fredericksburg","Lafayette","Milton","New Ulm","Phoenix","Royal Oak","Sparks","Stevens Point","Westminster","Amana","Bear","Boise","Corvallis","Fortuna","Helena","Kernville","La Jolla","Lakewood","Laramie","Memphis","Placentia","Portsmouth","Richmond","Rocky River","San Luis Obispo","Sunnyvale","Winston-Salem","Woodinville","Allentown","Appleton","Arcata","Columbus","Crozet","Flint","Framingham","Fresno","Holland","Lake Placid","Lawrence","Middleburg Heights","Novato","Reno","Silverdale","Somerdale","Telluride","Truckee","Tustin","Warrenville","Alpine","Bay Shore","Bethesda","Birmingham","Bloomington","Bremerton","Chandler","Charleston","Concord","Cooperstown","Greenville","Hailey","Kalamazoo","Lahaina","Lake Havasu City","Lake Oswego","Long Valley","Lubbock","Missoula","Monroe","Oceanside","Omaha","Pottstown","Riverside","San Leandro","Sheridan","Smithton","Tacoma","Torrance","Vista","Wilkes-Barre","Woodbridge","Afton","Albany","Amherst","Athens","Burlington","Canton","Claremont","Cloverdale","Duluth","Easton","Evanston","Frisco","Galesburg","Glen Mills","Glendale","Green Bay","Hays","Henderson","Hershey","Kailua-Kona","Libertyville","Little Rock","Milford","Milwaukie","Monterey","Morgan Hill","Myrtle Beach","New Hope","Newark","Orlando","Patchogue","Phoenixville","Rancho Cucamonga","Red Lodge","Redmond","Ridgway","Savannah","Shiner","St. Louis Park","Utica","Victor","Warren","Washington","Wheeling","Arvada","Aston","Boca Raton","Boone","Bridgewater Corners","Brooklyn Center","Burlingame","Campbell","Carson City","Cedar Rapids","Costa Mesa","Culver City","Dexter","Elmsford","Erie","Evansville","Frankenmuth","Goleta","Goodyear","Guerneville","Harrisonburg","High Point","Highlands Ranch","Lancaster","Lodi","Marble Falls","Midvale","Moriarty","Munster","Niwot","North Syracuse","O'Fallon","Olathe","Olympia","Park City","Philipsburg","Pleasantville","Royersford","Salinas","San Jose","San Rafael","Santee","Sebastopol","Sioux Falls","St. Paul","Tracy","Tumwater","Ventura","Waltham","Waterbury","Webberville","Whitefish","Wichita","Ann Arbor","Bellaire","Berthoud","Bethlehem","Biloxi","Braintree","Calmar","Camas","Carpinteria","Central City","Coral Gables","Croydon","Downingtown","Durango/Bayfield","Edmonds","Englewood","Falls Church","Fishers","Floosmoor","Fullerton","Greensboro","Greenwood","Hickory","Hollister","Iowa City","Irvine","Issaquah","King of Prussia","Lakeland","Lemont","Littleton","Lone Tree","Melbourne","Middlebury","Mount Holly","Mountain View","New Orleans","Newport Beach","Newton","Norfolk","Oak Harbor","Ocean Beach","Pagosa Springs","Papillion","Pinedale","Plainfield","Pleasanton","Providence","Redlands","Rockford","Salem","Salida","Sarasota","Sisters","Steamboat Springs","Sterling","Strongsville","Sunnyside","Superior","Tillamook","Tinley Park","Ukiah","Vail","Wayne","West Chester","West Dundee","Williamsport","Willoughby","Wisconsin Dells","(Corona, CA) Brea","Addison","Arrington","Arroyo Grande","Bel Air","Bellevue","Bemidji","Bloomfield","Bloomsburg","Bozeman","Branford","Brattleboro","Bronx","Buffalo","Calistoga","Camarillo","Cannon Beach","Carmel","Cherry Hill","Coronado","Covington","Crested Butte","Dana Point","Danville","Denton","Dover","El Segundo","Elk Rapids","Emsworth","Escondido","Fort Lauderdale","Fort Mitchell","Fort Wayne","Geneva","Granby","Grand Haven","Grants Pass","Grapevine","Hampton","Hartville","Haverhill","Honolulu","Inglewood","Ithaca","Jacksonville","Janesville","Kinston","Krebs","LaConner","Lafayette Hill","Lander","Latrobe","Leavenworth","Lincoln","Mammoth","Mammoth Lakes","Massillon","McKinleyville","McMinnville","Medford","Medina","Memphis/Nashville","Millersburg","Moreno Valley","Morganton","Moultonborough","Noblesville","Norwood","Novi","Orange","Palmetto","Petaluma","Pittsboro","Port Charlotte","Port Townsend","Red Bank","Rocklin","Saint Joseph","San Gabriel","San Juan Capistrano","Saratoga Springs","Sedona","Sevierville","Sidney","Soquel","Spokane","Staunton","Stockton","Sunriver","Traverse City","Tukwila","Turlock","Upland","Vero Beach","Watsonville","Wausau","Wells","West Okoboji","West Ossipee","West Yellowstone","Westlake Village","Whitestown","Williamsburg","Windsor","Worcester","(Bethesda, MD) Louisville","(Brea, CA) Brea","(College Park - Indianapolis, IN) Louisville","(Disney Boardwalk, FL) Chattanooga","(King of Prussia, PA) Louisville","(La Jolla, CA) Louisville","(Rockville, MD) Chattanooga","(San Diego, CA) Louisville","(Westminster, CO) Louisville","Abita Springs","Aiken","Akron/Canton","Alameda","Algoma","Algonquin","Allen","Alpharetta","Amesbury","Annandale","Annapolis","Arden","Ashland","Aspen","Astoria","Atascadero","Ava","Avon","Bakersfield","Bangor","Barberton","Bargersville","Baton Rouge","Battle Creek","Battle Ground","Baxter","Bay City","Bedford","Bedford Park","Belgrade","Berekely Heights","Big Rapids","Black Mountain","Blacksburg","Blue Ash","Bluemont","Bluffton","Bolivar","Bonners Ferry","Boulder/Chandler/Clear Lake","Bourbonnais","Boynton Beach","Bradenton","Brainerd","Breckenridge","Breese","Bridgeport","Bridgman","Bristol","Brookline","Broussard","Bucyrus","Burbank","Canal Winchester","Canon Beach","Cape May","Cape May Court House","Carbondale","Carlisle","Carmel-By-The-Sea","Carpenteria","Carrollton","Cary","Casselberry","Cave Creek","Cedar Springs","Centerville","Champaign","Chandler/Boulder","Chapel Hill","Chesapeake","Cheyenne","Chula Vista","Cibolo","CincinnatiE2=80=8E","Clearlake","Clive","Cody","Coeur D'Alene","Cold Spring","Collegeville","Collingswood","Comstock","Comstock Park","Coral Springs","Cornelius","Covina","Credted Butte","Crystal Bay","Danbury","Delafield","Denali National Park","Des Moines","Desert Ridge","Dothan","Dripping Springs","Dubuque","Dulles","Eagle","Eagle River","Eau Claire","Edgewater","Edinburg","Effingham","El Cajon","El Dorado Hills","El Granada","El Paso","Eldersburg","Estes Park","Etna","Eureka","Everett","Evergreen","Ewing","Export","Fairfield","Fargo","Farmingdale","Fayetteville","Fort Meyers","Franklin","Fremont","Friday Harbor","Fruita","Ft. Wayne","Gaylord","Gilbert","Gilroy","Gold Beach","Goochland","Gorham","Granbury","Grand Forks","Grayslake","Greensburg","Gunnison","Half Moon Bay","Hartford","Hawley","Hermosa Beach","Hillsboro","Hillsborough","Holly Springs","Honeoye Falls","Hyde Park","Independence","Ipswich","Irving","Jantzen Beach/Lloyd Center/Clear Lake","Johns Island","Johnson City","Junction City","Justin","Kailua Kona","Kamuela","Kearney","Keene","Kennesaw","Kent","Kihei","Kill Devil Hills","King City","Kirkland","La Vista","LaCrosse","Laguna Hills","Lake Elsinore","Lake George","Largo","Lawrenceville","Lombard","Long Island City","Lorton","Los Gatos","Lyons","Malvern","Manchester","Manheim","Mankato","Manteo","Maplewood","Marina del Rey","Marshall","Martinez","Maui","Meadville","Miami","Midland","Mill Valley","Minocqua","Mishawaka","Moab","Modesto","Moline","Monroeville","Montgomery","Moorpark","Moses Lake","Mount Horeb","N. Canton","Naches","Nantucket","Napa","Nashua","Nederland","Nellysford","New Haven","New Paltz","Normal","North Charleston","North Kansas City","North Versailles","Northamapton","Oak Bluffs","Ocean","Oregon City","Orland Park","Oroville","Oshkosh","Oxnard","Pacific Beach","Paducah","Palatine","Palm Beach","Palm Harbor","Palmdale","Parker","Pearland","Perkasie","Pittsburg","Pittston","Plover","Plymouth","Pomona","Pompey","Ponderay","Portage","Poulsbo","Princeton","Quincy","Rancho Mirage","Rehoboth Beach","Rio Rancho","Roanoke","Rosedale","Rowlett","Saint Albans","Saint Cloud","Saint Petersburg","Sainte Genevieve","Sanford","Santa Ana","Santa Clarita","Sarver","Schaumburg","Scotia","Seven Points","Sherman Oaks","Sherwood","Silver Spring","Somerville","South Denver","South Salt Lake","Spartanburg","Spearfish","Spicewood","St Paul","St. Joseph","Stafford","Stamford","Stevenson","Stockbridge","Stowe","Stratford","Sturgeon Bay","Suffern","Suwanee","Syracuse","Taylor","Temple","Tequesta","Torrington","Travelers Rest","Tulsa","Tyler","Vancouver","Vint Hill","Waconia","Walla Walla","Walland","Washougal","Waterloo","Watertown","Waukesha","Waupaca","West Des Moines","West Kill","West Palm Beach","Westland","Westmont","Westport","Wheat Ridge","Wheaton","Wilson","Winston - Salem","Winter Garden","Winter Springs","Winthrop","Woodbury","Woodland Hills","Wooster","Yakima","Yellow Springs","Zanesville"],[145,119,96,86,86,74,72,71,69,68,66,60,56,48,47,45,44,44,43,41,39,37,36,35,33,33,31,30,30,29,29,29,28,27,27,26,26,25,24,24,23,23,23,23,22,22,22,22,21,20,20,20,20,19,19,19,19,19,18,18,18,18,17,17,17,17,16,16,16,15,15,15,15,15,15,15,15,15,15,14,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>city<\/th>\n      <th>n<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<h3 id="fct_other">fct_other()</h3>
<p>We can also collapse levels by grouping together some levels into <code>Other</code> using <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_other()</code></span>.</p>
<p>In <code>fct_other()</code> we can either:</p>
<pre><code>- specify which categories we want to __keep__, where all the rest will be bucketed into the `Other` category.
- specify which categories we want to __drop__ - i.e. which categories do we want to be bucketed into the `Other` category.</code></pre>
<p><br> <br></p>
<ol type="1">
<li><p>Let’s say that we’re only interested in the <em>Pilseners</em> in the <code>category</code> variable.</p>
<p>We can <strong>keep</strong> these Pilseners, and combine all others into a <strong>Non-Pilseners</strong> category using <code>fct_other()</code> with the <span style="color: #5196b4;background-color:#f4e4e7"><code>keep</code></span> argument.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>category</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='fu'>fct_other</span><span class='op'>(</span><span class='va'>category</span>,
             <span class='co'># which levels do you want to keep?</span>
             keep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'German-Style Pilsener'</span>,
             <span class='st'>'Bohemian Style Pilsener'</span>,
             <span class='st'>'Bohemian-Style Pilsener'</span>,
             <span class='st'>'European-Style Pilsener'</span>,
             <span class='st'>'American-Style or International-Style Pilsener'</span>,
             <span class='st'>'International-Style Pilsener'</span>,
             <span class='st'>'European Pilsner'</span>,
             <span class='st'>'European Style Pilsener'</span>,
             <span class='st'>'American Light Pilsners'</span>,
             <span class='st'>'American-Style Lager or American-Style Pilsener'</span>,
             <span class='st'>'American-Style Pilsener'</span>,
             <span class='st'>'American-Style Pilsener or International-Style Pilsener'</span>,
             <span class='st'>'American Pilsener'</span>,
             <span class='st'>'American Pilseners'</span>,
             <span class='st'>'American Pilsners'</span>,
             <span class='st'>'American Premium Dark Pilseners'</span>,
             <span class='st'>'Continental Pilsners'</span>,
             <span class='st'>'European Classic Pilseners'</span>,
             <span class='st'>'German Style Pilsener'</span>,
             <span class='st'>'International Pilsener'</span>,
             <span class='st'>'Mixed, European Pilsener'</span>,
             <span class='st'>'American Premium Dark Pilsners'</span>,
             <span class='st'>'American Premium Pilseners'</span>,
             <span class='st'>'American Premium Pilsners'</span>,
             <span class='st'>'Contemporary American-Style Pilsener'</span>,
             <span class='st'>'Pilsener'</span><span class='op'>)</span>,
             <span class='co'># relabel the 'Other' level</span>
             other_level <span class='op'>=</span> <span class='st'>"Non-Pilseners"</span>
         <span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'>pull</span><span class='op'>(</span><span class='va'>category</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
   <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<pre><code> [1] &quot;American Pilsener&quot;                                      
 [2] &quot;Bohemian-Style Pilsener&quot;                                
 [3] &quot;German-Style Pilsener&quot;                                  
 [4] &quot;International Pilsener&quot;                                 
 [5] &quot;American-Style Lager or American-Style Pilsener&quot;        
 [6] &quot;Contemporary American-Style Pilsener&quot;                   
 [7] &quot;International-Style Pilsener&quot;                           
 [8] &quot;American-Style Pilsener&quot;                                
 [9] &quot;American-Style Pilsener or International-Style Pilsener&quot;
[10] &quot;American-Style or International-Style Pilsener&quot;         
[11] &quot;Bohemian Style Pilsener&quot;                                
[12] &quot;European-Style Pilsener&quot;                                
[13] &quot;European Style Pilsener&quot;                                
[14] &quot;German Style Pilsener&quot;                                  
[15] &quot;Pilsener&quot;                                               
[16] &quot;European Pilsner&quot;                                       
[17] &quot;Mixed, European Pilsener&quot;                               
[18] &quot;European Classic Pilseners&quot;                             
[19] &quot;American Light Pilsners&quot;                                
[20] &quot;American Pilsners&quot;                                      
[21] &quot;American Premium Dark Pilsners&quot;                         
[22] &quot;American Premium Pilsners&quot;                              
[23] &quot;American Pilseners&quot;                                     
[24] &quot;American Premium Dark Pilseners&quot;                        
[25] &quot;American Premium Pilseners&quot;                             
[26] &quot;Continental Pilsners&quot;                                   
[27] &quot;Non-Pilseners&quot;                                          </code></pre>
</div>
<p>We have successfully kept all Pilseners, and all others have been grouped into the “Non-Pilseners” category.</p></li>
<li><p>What if we want to keep everything else, and group all Pilseners into a separate category? We can instead use the <span style="color: #5196b4;background-color:#f4e4e7"><code>drop</code></span> argument.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r">    <span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
       <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>category</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
       <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='fu'>fct_other</span><span class='op'>(</span><span class='va'>category</span>,
                 <span class='co'># which levels do you want to drop?</span>
                 drop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'German-Style Pilsener'</span>,
                 <span class='st'>'Bohemian Style Pilsener'</span>,
                 <span class='st'>'Bohemian-Style Pilsener'</span>,
                 <span class='st'>'European-Style Pilsener'</span>,
                 <span class='st'>'American-Style or International-Style Pilsener'</span>,
                 <span class='st'>'International-Style Pilsener'</span>,
                 <span class='st'>'European Pilsner'</span>,
                 <span class='st'>'European Style Pilsener'</span>,
                 <span class='st'>'American Light Pilsners'</span>,
                 <span class='st'>'American-Style Lager or American-Style Pilsener'</span>,
                 <span class='st'>'American-Style Pilsener'</span>,
                 <span class='st'>'American-Style Pilsener or International-Style Pilsener'</span>,
                 <span class='st'>'American Pilsener'</span>,
                 <span class='st'>'American Pilseners'</span>,
                 <span class='st'>'American Pilsners'</span>,
                 <span class='st'>'American Premium Dark Pilseners'</span>,
                 <span class='st'>'Continental Pilsners'</span>,
                 <span class='st'>'European Classic Pilseners'</span>,
                 <span class='st'>'German Style Pilsener'</span>,
                 <span class='st'>'International Pilsener'</span>,
                 <span class='st'>'Mixed, European Pilsener'</span>,
                 <span class='st'>'American Premium Dark Pilsners'</span>,
                 <span class='st'>'American Premium Pilseners'</span>,
                 <span class='st'>'American Premium Pilsners'</span>,
                 <span class='st'>'Contemporary American-Style Pilsener'</span>,
                 <span class='st'>'Pilsener'</span><span class='op'>)</span>,
                 <span class='co'># relabel the 'Other' level</span>
                 other_level <span class='op'>=</span> <span class='st'>"Pilseners"</span>
             <span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
       <span class='fu'>pull</span><span class='op'>(</span><span class='va'>category</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
       <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
       <span class='fu'>as_tibble</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
       <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span><span class='op'>)</span>
 </code></pre>
</div>
<div id="htmlwidget-fd42ec175a674e6f6091" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-fd42ec175a674e6f6091">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344","345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366","367","368","369","370","371","372","373","374","375","376","377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398","399","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448","449","450","451","452","453","454","455","456","457","458","459","460","461","462","463","464","465","466","467","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","486","487","488","489","490"],["American Amber Lager","American Lager","American-Belgo-Style Ale","American-Style Amber/Red Ale","American-Style Black Ale or American-Style Stout","American-Style Brown Ale","American-Style Cream Ale","American-Style Fruit Beer","American-Style India Pale Ale","American-Style Pale Ale","American-Style Sour Ale","American-Style Strong Pale Ale","American-Style Wheat Beer","Belgian-Style Abbey Ale","Belgian-Style Ale or French-Style Ale","Belgian-Style Lambic or Sour Ale","Belgian-Style Specialty Ale","Belgian-Style Strong Specialty Ale","Belgian-Style Witbier","Bock","Brett Beer","Brown Porter","Chili Beer","Chocolate Beer","Classic Saison","Coffee Beer","Coffee Stout or Porter","Contemporary Gose","Dortmunder or German-Style Oktoberfest","English Ale","English Mild or Bitter","English-Style Brown Ale","Experimental Beer","Experimental India Pale Ale","Extra Special Bitter","Field Beer","Fresh Hop Beer","Fruit Wheat Beer","Fruited American-Style Sour Ale","Fruited Wood- and Barrel-Aged Sour Beer","German Dark Lager","German-Style Altbier","German-Style Doppelbock or Eisbock","German-Style Koelsch","German-Style Maerzen","German-Style Wheat Ale","Gluten-Free Beer","Golden or Blonde Ale","Herb and Spice Beer","Historical Beer","Honey Beer","Imperial India Pale Ale","Imperial Stout","International Dark Lager","International Pale Ale","Irish-Style Red Ale","Juicy or Hazy Imperial India Pale Ale","Juicy or Hazy India Pale Ale","Juicy or Hazy Pale Ale","Juicy or Hazy Strong Pale Ale","Kellerbier or Zwickelbier","Light Lager","Mixed-Culture Brett Beer","Munich-Style Helles","Oatmeal Stout","Old Ale or Strong Ale or Barley Wine-Style Ale","Other Strong Beer","Pumpkin Beer","Robust Porter","Rye Beer","Scotch Ale","Scottish-Style Ale","Session Beer or Non-Alcohol Beer","Session India Pale Ale","Smoke Beer","Specialty Beer","Specialty Berliner-Style Weisse","Specialty Saison","Stout","Strong Red Ale","Sweet Stout or Cream Stout","Vienna-Style Lager","Wood- and Barrel-Aged Beer","Wood- and Barrel-Aged Sour Beer","Wood- and Barrel-Aged Strong Beer","Wood- and Barrel-Aged Strong Stout","Aged Beer","American-Style Amber Lager","American-Style Black Ale","American-Style Stout","Australian-Style Pale Ale","Baltic-Style Porter","Barley Wine-Style Ale","Belgian- and French-Style Ale","Belgian-Style Blonde Ale or Pale Ale","Belgian-Style Dark Strong Ale or Belgian-Style Quadrupel","Belgian-Style Dubbel","Belgian-Style Fruit Beer","Belgian-Style Pale Strong Ale","Belgian-Style Tripel","Classic Irish-Style Dry Stout","Collab","Double Hoppy Red Ale","Emerging India Pale Ale","English-Style India Pale Ale","English-Style Mild Ale","English-Style or International-Style Pale Ale","English-Style Summer Ale","Export Stout","German-Style Dark Lager","German-Style Sour Ale","Imperial Red Ale","India Pale Lager or Malt Liquor","International-Style Dark Lager","Non-Alcohol Beer or Alcohol-Free Beer","Old Ale or Strong Ale","Ordinary or Special Bitter","Other Belgian-Style Ale","Proam","Pumpkin/Squash Beer or Pumpkin Spice Beer","Session Beer","South German-Style Hefeweizen","Specialty Berliner Weisse","American-Style Lager or American-Style Malt Liquor","American-Style Wheat Beer with Yeast","Belgian-Style Dubbel or Quadrupel","Berliner-Style Weisse","Classic English-Style Pale Ale","Dark Lager","Gose","International-Style Pale Ale","Juicy or Hazy Imperial or Double India Pale Ale","Munich-Style Dunkel or European-Style Dark Lager","American-Style Lager or Malt Liquor","American-Style Wheat Beer With Yeast","Australian-Style or International-Style Pale Ale","Double Red Ale","Fresh or Wet Hop Ale","Leipzig-Style Gose or Contemporary Gose","Pro-Am","American-Style Amber Lager or Dark Lager","American-Style Lager or Ice Lager or Malt Liquor","American-Style Light Lager or German-Style Light Lager","European-Style Dark Lager/Munich-Style Dunkel","German-Style Schwarzbier","Pumpkin Spice Beer","Pumpkin/Squash Beer","American-Style Dark Lager","American-Style Lager or Light Lager","Belgian-Style Dubbel or Quadruple","European-Style Dark/MC3=BCnchner Dunkel","European-Style Dark/MC3=BCnchn=er Dunkel","European-Style Dark/M=C3=BCnchner Dunkel","French- and Belgian-Style Saison","German-Style KC3=B6lsch","German-Style MC3=A4rzen","German-Style MC3==A4rzen","American-Style Brett Beer","European-Style Dunkel","Foreign-Style Stout","Indigenous/Regional Beer","Specialty Honey Beer","Field Beer or Pumpkin Beer","French &amp; Belgian-Style Saison","Fresh Hop Ale","Fruit Beer","German-Style K=C3=B6lsch","Indigenous Beer","Pro-Am Competition","American-Style Brett Ale","American-Style Lager, Light Lager or Premium Lager","American-Style Specialty Lager or Cream Ale or Lager","German-Style MC3=A4r=zen","Sweet Stout","American-Style India Black Ale","Coffee Flavored Beer","Extra Special Bitter or Strong Bitter","German-Style KC3==B6lsch","Gluten Free Beer","Herb and Spice or Chocolate Beer","Kellerbier/Zwickelbier","Out of Category E2=80=93 Traditionally Brewed B=eer","Out of Category =E2=80=93 Traditionally Brewed Beer","Out of Category E2=80=93 Traditionally Brewed Beer&lt;=/","Smoked Beer","American-Style Cream Ale or Lager","American-Style Lager or Premium Lager","American-Style Light Lager","American-Style Specialty Lager","Barley Wine Style Ale","Belgian and French-Style Ale","Belgian Style Strong Specialty Ale","Classic English Style Pale Ale","English Style Brown Ale","English Style Mild Ale","European Style Dunkel","Foreign Style Stout","French- and Belgian Style Saison","Fruit Beer or Field Beer","German Style Altbier","German Style Doppelbock or Eisbock","German Style K=C3=B6lsch","German Style M=C3=A4rzen","German Style Schwarzbier","Munich Style Helles","Out of Category E2=80=93 Traditionally B=rewed Beer","Out of Category E2=80=93 Traditionally Bre=wed Beer","Scottish Style Ale","South German Style Hefeweizen","Vienna Style Lager","America-Style Light Lager","American-Belgo Style Ale","American-Style Hefeweizen","American-Style or German-Style Sour Ale","Bitter or Pale Mild Ale","English-Style Dark Mild Ale or Brown Ale","Fruit or Vegetable Beer","German-Style Strong Bock","Imperial or Double Red Ale","Smoke-Flavored Beer","Strong Scotch Ale","Aged Beer (Ale or Lager)","American-Style Lager","American-Style Sour Ale or German-Style Sour Ale","American-Style Wheat Wine Ale","Belgian Style Abbey Ale","Belgian-Style Sour Ale","Belgian-Style White (or Wit)/Belgian-Style Wheat","Cellar or Unfiltered Beer","Dortmunder/European Style Export or German-Style Oktoberfest/Wiesen (Meadow)","English Style Dark Mild Ale or English-Style Brown Ale","European Style Dark/M=C3=BCnchner Dunkel","Experimental Beer (Lager or Ale)","Foreign (Export) Style Stout","Fruit Beer or Vegetable Beer","German Style Brown Ale/D=C3=BCsseldorf Style Altbier","German Style Brown Ale/DC3=BCsseldorf Style Altbier","German Style KC3=B6lsch/K==C3=B6ln Style K=C3=B6lsch","German Style KC3=B6lsch/K=C3=B6ln Style K=C3=B6lsch=","German Style KC3=B6lsch/K=C3=B6ln Style K=C3=B6lsch","German Style MC3=A4rzen","German Style Strong Bock","Imperial or Double India Pale Ale","M=C3=BCnchner (Munich) Style Helles","MC3=BCnchner (Munich) Style Hell=es","Other Low Strength Ale or Lager","Other Strong Ale or Lager","South German Style Hefeweizen/Hefeweissbier","Specialty Honey Lager or Ale","American Cream Ale or Lager","American-Style Amber / Red Ale","Belgian-and French-Style Ale","Belgian-Style White (or Wit) / Belgian-Style Wheat","Bitter","European-Style Dark / Munchner Dunkel","Foreign (Export)-Style Stout","French- Belgian-Style Saison","Fruit And Vegetable Beer","German-Style Brown Ale / Dusseldorf-Style Altbier","German-Style Kolsch / Koln-Style Kolsch","German-Style Maerzen / Oktoberfest","Munchner-Style Helles","Old Ale/Strong Ale","South German-Style Hefeweizen/Hefeweissbier","Wood- and Barrel-aged Beer","Wood- and Barrel-aged Strong Beer","American-Style \"Light\" Amber Lager","American-Style Premium Lager","British Stout","French-Belgian Style Saison","Non-Alcoholic (Beer) Malt Beverage","American Lager/Ale or Cream Ale","Beer With Yeast","Belgian-Style White (or Wit)/Belgian-Style","European-Style Dark/Muchner Dunkel","German-Style Brown Ale/Dusseldorf-Style","German-Style K=C3=B6lsch/K=C3=B6ln-Style K=C3=B6lsch","German-Style KC3=B6lsch/K=C3=B6ln-=Style K=C3=B6lsch","German-Style MC3=A4rzen/Oktoberfest","American Dark Lager","French-and Belgian-Style Saison","Garden Beer (Fruit &amp; Vegetable)","German-Style Doppelbock","German-Style Hefeweizen","German-Style KC3=B6lsch/K=C3=B6ln-Style K=C3=B6l=sch","German-Style MC3=A4=rzen/Oktoberfest","German-Style M=C3=A4rzen/Oktoberfest","Wood-and Barrel-Aged Beer","(Extra Special) Strong Bitter","American-Style Lager/Ale or Cream","Belgian- &amp; French-Style Ale","Belgian-Style Strong Specialty Ales","German-Style MC3=A4rzen/Oktoberfes=t","Old Ale / Strong Ale","American-Style Lager/Ale or Cream Ale","American-Style Wheat Ale or Lager","Belgian- &amp; French-Style Specialty Ales","Belgian-Style Ale","Chocolate / Cocoa Flavored Beer","American Lager / Ale or Cream Ale","Belgian-Style Ales","Chocolate / Cocoa Flavored Beers","English Old Ale / English &amp; American Strong Ales","English Style (Extra Special) Strong Bitter","English-Style Bitter","European-Style Dark / Munchner","Fruit Beers (other than raspberry)","Golden Ale / Canadian Style Ale","Herb and Spice Beers","Other Strong Ales &amp; Lagers","Raspberry Beers","Smoke-Flavored Beers","Specialty Beers","Specialty Honey Lagers or Ales","Belgian and French-Style Specialty Ales","English Old Ale / English Strong Ale","English-Style (Extra Special) Strong Bitter","German-Style MC3=AFrzen /= Oktoberfest","German-Style MC3=AFrzen / Oktoberfest","India Pale Ale","Other Strong Ales &amp;amp; Lagers","American-Style Amber Ale","American-Style Lager/Ale Or Cream Ale","American-Style Wheat Ale Or Lager","Barley Wine","Belgian &amp; French Style Specialty Ales","Belgian Style Ales","Doppelbock","English Old Ale/Strong Ale","English Style Bitter","European Style Dark/Munchener Dunkel","Experimental Beer (Lager Or Ale)","German Style Brown Ale/Dusseldorf Style Alt","German Style Brown/Dusseldorf Style Alt","German Style Wheat Ale","Golden Ale/Canadian Style Ale","Herb/Spice Beers","Kolsch","Marzen/Oktoberfest","Munchener Helles","Nonalcoholic Malt Beverages","Other Strong Ales","Smoke Flavored Beers","Specialty","Specialty Honey Ales Or Lagers","American-Style Lager / Ale Or Cream Ale","Belgian Style Specialty Ales","Dopplebock","Dortmunder / European Style Export","English Style Old Ale / Strong Ale","English Style Strong Bitter","European Style Dark / Munchener Dunkel","German Style Brown / Dusseldorf Style Altbier","Herb / Spice Beers","Marzen / Oktoberfeset","Specialty Honey Ales Or Lager","Amber Lager","American Amber Ale","American Brown Ale","American Lager / Ale / Cream Ale","American Light Lager","American Pale Ale","American Specialty Lager","American Wheat Ale Or Lager","Belgian Style Ale","Dry Stouts","English Syle Brown Ale","Munchener Helles And Export","Munchner Helles And Export","Non Alcoholic Malt Beverages","Specialty Stouts","Strong Ale","Traditional English Style Bitter","American Lager / Ale Or Cream Ale","American Malt Liquor","American Premium Lager","Belgian-Style Specialty Ales","Blonde Ale","German-Style Brown / Dusseldorf-Style Altbier","Non-Alcoholic Malt Beverage","Scottish-Style Ales","Vienna Lager","American Dry Lager","American Lager/Ale Cream Ale","Classic English Pale Ale","Dusseldorf Style Altbier","English Brown Ale","Fruit, Vegetable","German Wheat Ale","Herb, Spice","Porter","Scottish Ales","Traditional Bitter","Ale, American Brown Ale","Ale, American Pale/Amber Ale","Ale, Barley Wine","Ale, Blonde Ale","Ale, Classic English Pale Ale","Ale, Dry Stout","Ale, English Brown Ale","Ale, India Pale Ale","Ale, Porter","Ale, Scottish Ale","Ale, Strong Ale","Ale, Sweet Stout","Ale, Traditional Bitter","Lager, Amber Lager","Lager, American Dry Lager","Lager, American Lager","Lager, American Light Lager","Lager, American Malt Liquor","Lager, American Premium Lager","Lager, Bock","Lager, Dark Lager","Lager, Munchner Helles &amp; Dortmunder Export","Mixed, American Lager-Ale/Cream Ale","Mixed, American Wheat","Mixed, Dusseldorf Altbier","Mixed, Fruit, Vegetable","Mixed, German Wheat","Mixed, Herb, Spice","Mixed, Non-Alcoholic","Mixed, Smoke Flavored","Mixed, Specialty","American Brown Ales","American Lager-Ale/Cream Ale","American Pale/Amber Ale","American Wheat","Dry Stout","Dusseldorf Altbier","German Wheat","Munchner Helles &amp; Dortmunder X","Scottish Ale","Smoke Flavored","Vienna","Amber Ale/American Pale Ales","Amber/Viennas","American Dry Lagers","American Lager-Ales","American Lagers","American Light Lagers","American Malt Liquors","American Premium Lagers","American Wheats","Barley Wines","Blonde/Golden Ales","Bocks","Classic Pale Ales","Dortmund/Export/Specials","Dusseldorf Style Altbiers","Fruit, Vegetables","German Wheats","Herb, Spices","India Pale Ales","Maerzen/Oktoberfests","Munchner Helles","Porters","Scotch Ales","Specialty Ales","Stouts","Strong Ales","Traditional Bitters","Alts","Amber Ales","American Premium Dark Lagers","Blond/Golden Ales","Brown Ales","Doppelbocks","Drys","European Dark/Munchner Dunkels","Export/Specials","Malt Liquors","Pale Ales","Rauch","Weizen","Bock Beers","Cream Ales","Dry Beers","European Ambers","Malt Liquor","Muenchers","Vienna/Marzen/Octoberfest Beer","Wheat Beers","European Darks","Ales","American Cream Ales","Bocks/Dopplebocks","Continental Amber Lagers","Vienna Style Lagers","Pilseners"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"order":[],"autoWidth":false,"orderClasses":false,"columnDefs":[{"orderable":false,"targets":0}]}},"evals":[],"jsHooks":[]}</script>
</div>
<p>There are no individual “Pilsener” observations now, instead all Pilseners have been grouped into the “Other” category which we renamed to be “Pilseners”.</p></li>
</ol>
<h3 id="fct_lump">fct_lump()</h3>
<p>In the <code>beer_awards$city</code> variable we have 803 cities. Say we’re only interested in the top 10 cities represented in the awards.</p>
<ul>
<li><p>We can do this using <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_lump()</code></span> along with the argument <span style="color: #5196b4;background-color:#f4e4e7"><code>n</code></span>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>mutate</span><span class='op'>(</span>city <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>city</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='co'># keep the top 10 cities with the most observations</span>
    <span class='co'># and collapse all other cities into an `Other` category</span>
    <span class='fu'>mutate</span><span class='op'>(</span>city <span class='op'>=</span> <span class='fu'>fct_lump</span><span class='op'>(</span><span class='va'>city</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>city</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code> [1] &quot;San Antonio&quot;    &quot;Portland&quot;       &quot;Denver&quot;        
 [4] &quot;Golden&quot;         &quot;Chicago&quot;        &quot;San Diego&quot;     
 [7] &quot;Salt Lake City&quot; &quot;Seattle&quot;        &quot;Milwaukee&quot;     
[10] &quot;Fort Collins&quot;   &quot;Other&quot;         </code></pre>
</div></li>
<li><p>We can also keep categories with some percentage of the observations using <code>fct_lump()</code> along with the argument <span style="color: #5196b4;background-color:#f4e4e7"><code>prop</code></span>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>mutate</span><span class='op'>(</span>city <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>city</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='co'># keep the cities with at least 1.5% of the observations</span>
    <span class='co'># and collapse all other cities into an `Other` category</span>
    <span class='fu'>mutate</span><span class='op'>(</span>city <span class='op'>=</span> <span class='fu'>fct_lump</span><span class='op'>(</span><span class='va'>city</span>, prop <span class='op'>=</span> <span class='fl'>0.015</span>,
                           <span class='co'># we can again relabel the 'Other' category</span>
                           other_level <span class='op'>=</span> <span class='st'>"Rest of the Cities"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'>pull</span><span class='op'>(</span><span class='va'>city</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
  </code></pre>
</div>
<pre><code>[1] &quot;Portland&quot;           &quot;Denver&quot;             &quot;San Diego&quot;         
[4] &quot;Seattle&quot;            &quot;Milwaukee&quot;          &quot;Rest of the Cities&quot;</code></pre>
</div></li>
</ul>
<h2 id="re-labeling-levels">Re-labeling levels</h2>
<p>Sometimes your factor categories will have long names. You many want to shorten these for graphs etc.</p>
<h3 id="brewing_materialstype">brewing_materials$type</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>type</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 12 x 2
   type                           n
   &lt;chr&gt;                      &lt;int&gt;
 1 Barley and barley products   120
 2 Corn and corn products       120
 3 Hops (dry)                   120
 4 Hops (used as extracts)      120
 5 Malt and malt products       120
 6 Other                        120
 7 Rice and rice products       120
 8 Sugar and syrups             120
 9 Total Grain products         120
10 Total Non-Grain products     120
11 Total Used                   120
12 Wheat and wheat products     120</code></pre>
</div>
<h3 id="fct_recode">fct_recode()</h3>
<p>The <code>brewing_materials$type</code> variable has some long names. Let’s use <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_recode()</code></span> to rename these.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>brewing_materials</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>type <span class='op'>=</span> <span class='fu'>as_factor</span><span class='op'>(</span><span class='va'>type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>type <span class='op'>=</span> <span class='fu'>fct_recode</span><span class='op'>(</span><span class='va'>type</span>,
          <span class='co'># "new_name" = "old_name"                 </span>
          <span class='st'>"Barley"</span>     <span class='op'>=</span> <span class='st'>"Barley and barley products"</span>,
          <span class='st'>"Malt"</span>       <span class='op'>=</span> <span class='st'>"Malt and malt products"</span>,
          <span class='st'>"Rice"</span>       <span class='op'>=</span> <span class='st'>"Rice and rice products"</span>,
          <span class='st'>"Corn"</span>       <span class='op'>=</span> <span class='st'>"Corn and corn products"</span>,
          <span class='st'>"Wheat"</span>      <span class='op'>=</span> <span class='st'>"Wheat and wheat products"</span>,
          <span class='co'># Notice here I am kinda doing the equivalent of fct_collapse()</span>
          <span class='co'># by assigning 2 categories to new "Hops" category</span>
          <span class='st'>"Hops"</span>       <span class='op'>=</span> <span class='st'>"Hops (dry)"</span>,
          <span class='st'>"Hops"</span>       <span class='op'>=</span> <span class='st'>"Hops (used as extracts)"</span>
          <span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>count</span><span class='op'>(</span><span class='va'>type</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 11 x 2
   type                         n
   &lt;fct&gt;                    &lt;int&gt;
 1 Hops                       240
 2 Malt                       120
 3 Corn                       120
 4 Rice                       120
 5 Barley                     120
 6 Wheat                      120
 7 Total Grain products       120
 8 Sugar and syrups           120
 9 Other                      120
10 Total Non-Grain products   120
11 Total Used                 120</code></pre>
</div>
<h2 id="reorder-levels">Reorder levels</h2>
<p>When visualising data we often want to reorder the levels of our factors. We can use <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_reorder()</code></span>, <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_reorder2()</code></span>, <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_infreq()</code></span> and <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_rev()</code></span> for ordering our factors for visuals.</p>
<h3 id="fct_infreq-and-fct_rev">fct_infreq() and fct_rev()</h3>
<p><span style="color: #5196b4;background-color:#f4e4e7"><code>fct_infreq()</code></span> orders by the frequency of each category.</p>
<p>Let’s say we were interested in which breweries did the best over time in terms of winning gold medals.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>theme_set</span><span class='op'>(</span><span class='fu'>theme_light</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='co'># I only care about Gold medals</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>medal</span> <span class='op'>==</span> <span class='st'>"Gold"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='co'># I am only interested in top 10 most successful breweries</span>
  <span class='fu'>mutate</span><span class='op'>(</span>brewery <span class='op'>=</span> <span class='fu'>fct_lump</span><span class='op'>(</span><span class='va'>brewery</span>, n <span class='op'>=</span> <span class='fl'>10</span>,
                            <span class='co'># if there are ties in 10th and 11th position, keep the first one</span>
                            ties.method <span class='op'>=</span> <span class='st'>"first"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='co'># add a count variable which will be named `n`</span>
  <span class='fu'>add_count</span><span class='op'>(</span><span class='va'>brewery</span>, <span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='co'># remove the Other category since it overwhelms the plot</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>brewery</span> <span class='op'>!=</span> <span class='st'>"Other"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='co'># order the brewery by the frequency in each brewery</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='fu'>fct_infreq</span><span class='op'>(</span><span class='va'>brewery</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f4e4e7"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>,
                x <span class='op'>=</span> <span class='va'>n</span> <span class='op'>+</span> <span class='fl'>.06</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='st'>"center"</span>,
            colour <span class='op'>=</span> <span class='st'>"#5196b4"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span>,
       title <span class='op'>=</span> <span class='st'>"Breweries that won the most gold medals over time"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.ticks.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-30-1.png" width="70%" height="70%" /></p>
</div>
<p>The <code>fct_infreq()</code> orders it from most frequent (which is shown at bottom of plot, because ggplot plots the levels from the bottom going up) to least frequent (shown at top of plot). Visually we see the least frequent at top of the plot, and most frequent at the bottom of the plot.</p>
<p>To see what <code>fct_infreq()</code> does let’s look at the levels.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>medal</span> <span class='op'>==</span> <span class='st'>"Gold"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewery <span class='op'>=</span> <span class='fu'>fct_lump</span><span class='op'>(</span><span class='va'>brewery</span>, n <span class='op'>=</span> <span class='fl'>10</span>,
                            ties.method <span class='op'>=</span> <span class='st'>"first"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>brewery</span> <span class='op'>!=</span> <span class='st'>"Other"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>mutate</span><span class='op'>(</span>brewery <span class='op'>=</span> <span class='fu'>fct_infreq</span><span class='op'>(</span><span class='va'>brewery</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pull</span><span class='op'>(</span><span class='va'>brewery</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;Pabst Brewing Co.&quot;               
 [2] &quot;Firestone Walker Brewing Co.&quot;    
 [3] &quot;Boston Beer Co.&quot;                 
 [4] &quot;Miller Brewing Co.&quot;              
 [5] &quot;Anheuser-Busch, Inc&quot;             
 [6] &quot;New Belgium Brewing Co.&quot;         
 [7] &quot;Alaskan Brewing and Bottling Co.&quot;
 [8] &quot;Marin Brewing Co.&quot;               
 [9] &quot;Pelican Pub &amp; Brewery&quot;           
[10] &quot;New Glarus Brewing Co.&quot;          
[11] &quot;Other&quot;                           </code></pre>
</div>
<p>It is sometimes better to see bar plots in descending order on the visual (i.e. we want to see the most frequent at top of plot, and least frequent at the bottom). This can be accomplished by combining <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_rev()</code></span> with <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_infreq()</code></span>.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>medal</span> <span class='op'>==</span> <span class='st'>"Gold"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewery <span class='op'>=</span> <span class='fu'>fct_lump</span><span class='op'>(</span><span class='va'>brewery</span>, n <span class='op'>=</span> <span class='fl'>10</span>,
                            ties.method <span class='op'>=</span> <span class='st'>"first"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>add_count</span><span class='op'>(</span><span class='va'>brewery</span>, <span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>brewery</span> <span class='op'>!=</span> <span class='st'>"Other"</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='co'># show in decreasing order of winners on plot</span>
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='fu'>fct_rev</span><span class='op'>(</span><span class='fu'>fct_infreq</span><span class='op'>(</span><span class='va'>brewery</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f4e4e7"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>,
                x <span class='op'>=</span> <span class='va'>n</span> <span class='op'>+</span> <span class='fl'>.06</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='fl'>1.2</span>,
            colour <span class='op'>=</span> <span class='st'>"#5196b4"</span>,
            size <span class='op'>=</span> <span class='fl'>4.5</span>,
            position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span>,
       title <span class='op'>=</span> <span class='st'>"Breweries that won the most gold medals over time"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.ticks.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-32-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>brewery <span class='op'>=</span> <span class='fu'>fct_lump</span><span class='op'>(</span><span class='va'>brewery</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>add_count</span><span class='op'>(</span><span class='va'>brewery</span>, <span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>brewery</span> <span class='op'>!=</span> <span class='st'>"Other"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='fu'>fct_rev</span><span class='op'>(</span><span class='fu'>fct_infreq</span><span class='op'>(</span><span class='va'>brewery</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_bar</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f4e4e7"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>,
                x <span class='op'>=</span> <span class='va'>n</span> <span class='op'>+</span> <span class='fl'>.06</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='fl'>1.2</span>,
            colour <span class='op'>=</span> <span class='st'>"#5196b4"</span>,
            size <span class='op'>=</span> <span class='fl'>4.2</span>,
            position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span> <span class='fu'>fct_inorder</span><span class='op'>(</span><span class='va'>medal</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span>,
       title <span class='op'>=</span> <span class='st'>"Most successful breweries over time"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"In all medal categories"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.ticks.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-33-1.png" width="624" /></p>
</div>
<h3 id="fct_reorder">fct_reorder()</h3>
<p>On occasion you may want to reorder to make your visuals easier to read. You can do this using <span style="color: #5196b4;background-color:#f4e4e7"><code>fct_reorder()</code></span>.</p>
<p><span style="color: #5196b4;background-color:#f4e4e7"><code>fct_reorder(var, some_other_var, some_func)</code></span> where:</p>
<ul>
<li>var: the variable you want to reorder (below this is the <code>brewery</code> variable)</li>
<li>some_other_var: what should determine the order that var will be put into? Below we’re going to reorder <code>brewery</code> by the count of medals the brewery received.</li>
<li>some_func: Is there some summary function that must be applied? For example, should we sum up some_other_var, or take the median of some_other_var for the order of var to be determined by. Below since we have Bronze, Silver and Gold medals we’re going to sum up the counts in each medal category and use that to determine which order <code>brewery</code> should be in.</li>
</ul>
<p>Ultimately we want to plot the most successful breweries from most successful to least successful in the top 10.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>beer_awards</span> <span class='op'>%&gt;%</span> 
  <span class='co'># keep top 10 breweries, lump all the rest into Other</span>
  <span class='fu'>mutate</span><span class='op'>(</span>brewery <span class='op'>=</span> <span class='fu'>fct_lump</span><span class='op'>(</span><span class='va'>brewery</span>, n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>add_count</span><span class='op'>(</span><span class='va'>brewery</span>, <span class='va'>medal</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>brewery</span>, <span class='va'>medal</span>, <span class='va'>n</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>distinct</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='co'># remove the "Other" category because it makes it hard</span>
  <span class='co'># to see all the rest</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>brewery</span> <span class='op'>!=</span> <span class='st'>"Other"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='co'># reorder the brewery by the sum of the number of all</span>
  <span class='co'># medals such that brewery with most medals are at top</span>
  <span class='fu'>mutate</span><span class='op'>(</span>brewery <span class='op'>=</span> <span class='fu'>fct_reorder</span><span class='op'>(</span><span class='va'>brewery</span>, <span class='va'>n</span>, <span class='va'>sum</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>medal <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>medal</span>,
                                <span class='st'>"Bronze"</span>,
                                <span class='st'>"Silver"</span>,
                                <span class='st'>"Gold"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>n</span>, <span class='va'>brewery</span>, 
             fill <span class='op'>=</span> <span class='va'>medal</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_col</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>n</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>, 
            position <span class='op'>=</span> <span class='fu'>position_stack</span><span class='op'>(</span>vjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>scale_fill_viridis_d</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>labs</span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span>,
       title <span class='op'>=</span> <span class='st'>"Breweries with the most medals"</span>,
       fill <span class='op'>=</span> <span class='st'>"Medal"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme</span><span class='op'>(</span>axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,
        axis.ticks.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>guides</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='fu'>guide_legend</span><span class='op'>(</span>reverse <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="control-your-factors-with-forcats_files/figure-html5/unnamed-chunk-34-1.png" width="624" /></p>
</div>
<h2 id="code">Code</h2>
<p>You will find the RMarkdown replica of this post <a href="https://github.com/sciencificity/forcats-tutorial/blob/master/forcats_tutorial.Rmd">here</a>.</p>
<h2 id="session-info">Session Info</h2>
<div class="layout-chunk" data-layout="l-body">
<details>
<summary>
Show code
</summary>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/sessionInfo.html'>sessionInfo</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</details>
<pre><code>R version 4.1.1 (2021-08-10)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19043)

Matrix products: default

locale:
[1] LC_COLLATE=English_South Africa.1252 
[2] LC_CTYPE=English_South Africa.1252   
[3] LC_MONETARY=English_South Africa.1252
[4] LC_NUMERIC=C                         
[5] LC_TIME=English_South Africa.1252    

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods  
[7] base     

other attached packages:
 [1] forcats_0.5.1   stringr_1.4.0   dplyr_1.0.7     purrr_0.3.4    
 [5] readr_2.0.1     tidyr_1.1.3     tibble_3.1.5    ggplot2_3.3.5  
 [9] tidyverse_1.3.1 formatR_1.11   

loaded via a namespace (and not attached):
 [1] httr_1.4.2        sass_0.4.0        viridisLite_0.4.0
 [4] bit64_4.0.5       vroom_1.5.5       jsonlite_1.7.2   
 [7] modelr_0.1.8      bslib_0.3.0       assertthat_0.2.1 
[10] highr_0.9         cellranger_1.1.0  yaml_2.2.1       
[13] pillar_1.6.4      backports_1.2.1   glue_1.4.2       
[16] digest_0.6.28     rvest_1.0.2       colorspace_2.0-2 
[19] htmltools_0.5.2   pkgconfig_2.0.3   broom_0.7.9      
[22] haven_2.4.3       scales_1.1.1      distill_1.3      
[25] tzdb_0.1.2        downlit_0.2.1     generics_0.1.1   
[28] farver_2.1.0      ellipsis_0.3.2    DT_0.19          
[31] withr_2.4.2       cli_3.0.1         magrittr_2.0.1   
[34] crayon_1.4.2      readxl_1.3.1      evaluate_0.14    
[37] fs_1.5.0          fansi_0.5.0       xml2_1.3.2       
[40] tools_4.1.1       hms_1.1.0         lifecycle_1.0.1  
[43] emoji_0.2.0       munsell_0.5.0     reprex_2.0.1     
[46] compiler_4.1.1    jquerylib_0.1.4   rlang_0.4.12     
[49] grid_4.1.1        rstudioapi_0.13   htmlwidgets_1.5.4
[52] crosstalk_1.1.1   labeling_0.4.2    rmarkdown_2.11   
[55] gtable_0.3.0      codetools_0.2-18  DBI_1.1.1        
[58] curl_4.3.2        R6_2.5.1          lubridate_1.7.10 
[61] knitr_1.36        fastmap_1.1.0     bit_4.0.4        
[64] utf8_1.2.2        stringi_1.7.5     parallel_4.1.1   
[67] Rcpp_1.0.7        vctrs_0.3.8       dbplyr_2.1.1     
[70] tidyselect_1.1.1  xfun_0.27        </code></pre>
</div>
<h1 id="further-resources">Further Resources</h1>
<ol type="1">
<li>Chapter on <a href="https://r4ds.had.co.nz/factors.html">Factors</a> in <code>R for Data Science</code>.</li>
<li>{forcats} <a href="https://forcats.tidyverse.org/">Tidyverse Page</a>.</li>
<li><a href="https://forcats.tidyverse.org/articles/forcats.html">Vignette on {forcats}</a> by <a href="https://twitter.com/robinson_es?lang=en">Emily Robinson</a>.</li>
<li><a href="https://www.youtube.com/channel/UCeiiqmVK07qhY-wvg3IZiZQ">David Robinson’s TidyTuesday screencasts</a> often include much factor wrangling.</li>
</ol>
<div class="sourceCode" id="cb41"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Feel%20like%20the%20cat%20that%20got%20the%20cream%20with%20%7Bforcats%7D&amp;url=https%3A%2F%2Fsciencificity-blog.netlify.app%2Fposts%2F2021-01-30-control-your-factors-with-forcats%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fsciencificity-blog.netlify.app%2Fposts%2F2021-01-30-control-your-factors-with-forcats%2F&amp;title=Feel%20like%20the%20cat%20that%20got%20the%20cream%20with%20%7Bforcats%7D">
        <i class="fab fa-linkedin"></i>
      </a>
    </span>
  </p>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Naidoo (2021, Jan. 31). Sciencificity's Blog: Feel like the cat that got the cream with {forcats}. Retrieved from https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{naidoo2021feel,
  author = {Naidoo, Vebash},
  title = {Sciencificity's Blog: Feel like the cat that got the cream with {forcats}},
  url = {https://sciencificity-blog.netlify.app/posts/2021-01-30-control-your-factors-with-forcats/},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
